# KS0428 Mini Tank Robot V2 Mixly tutorial

![](media/40251bc51995d9dcddc5ef40e93ad7cd.png)


## Introduction

Nowadays, technological education such as VR, kids programming, and artificial
intelligence, has become mainstream in educational industry. Thereby, people
attach importance to STEM education. Arduino is pretty notable in Maker
education.

So what is Arduino? Arduino is an open-source electronics platform based on
easy-to-use hardware and software. Arduino boards are able to read inputs -
light on a sensor, a finger on a button, or a Twitter message - and turn it into
an output - activating a motor, turning on an LED, publishing something online.
Based on this, Keyestudio team has designed a mini tank robot. The tank robot
has a processor which is programmable using the Arduino IDE, to mapped its pins
to sensors and actuators by a shield that plug in the processor, it reads
sensors and controls the actuators and decides how to operate.

15 learning projects, from simple to complex, will guide you how to make a smart
tank robot on you own and introduce the detailed knowledge about sensors and
modules. Simultaneously, it is the best choice if you intend to obtain a DIY
robot for learning programming, entertainment and competition requirement.

## Features

1.Multi-purpose: Obstacle avoidance, follow, IR remote control, Bluetooth
control, light following, ultrasonic follow and displaying face emoticons.

2.Simple assembly: No soldering circuit required, complete assembly easily.

3.High Tenacity：Aluminum alloy bracket, metal motors, high quality wheels and
tracks

4.High extension: expand other sensors and modules through motor driver shield
and sensor shield

5.Multiple controls: IR remote control, App control(IOS and Android system)

6.Basic programming：C language code of Arduino IDE.

## Specification

Working voltage: 5v

Input voltage: 7-12V

Maximum output current: 2A

Maximum power dissipation: 25W (T=75℃)

Motor speed: 5V 200 rpm/min

Motor drive mode: dual H bridge drive (L298P)

Ultrasonic induction angle: \<15 degrees

Ultrasonic detection distance: 2cm-400cm

Infrared remote control distance: 10 meters (measured)

Bluetooth remote control distance: 50 meters (measured)

## Product List

## Assembly Guide

After making an inventory all the parts in this kit, then we need to mount the
tank robot. Let’s install smart car in compliance with the following
instructions.

Note: Peel the plastic film off the board first when installing the smart car.
To be honest, we never intend to send wood to you.

Step 1: Install Bottom Motor

Prepare the parts as follows:

M4 Nut x 2

Metal Motor x2

Metal Holder x2

Copper Coupler x2

Blue Supportive Parts x2（Note: Blue / orange color random delivery）

M4x12MM Inner Hex Screw x 2

M1.5 Hex Key Nickel Plated Allen Wrench x1

M3 Hex Key Nickel Plated Allen Wrench x1

M2.5 Hex Key Nickel Plated Allen Wrench x1

M3x8MM Inner Hex Screw x 4

![](media/2027ea2890822d6f22db89dfa69efcc5.png)![](media/9f9048e1ad89fa5cfe85d0f62e728387.png)

Step 2: Install Driver Wheel

Prepare the parts as follows:

M4x12MM Inner Hex Screw x 2

M4x50MM Inner Hex Screw x 2

Tank Load-bearing Wheel x 2

Flange Bearing x 4

Copper Bush x2

Caterpillar Band x2

M4 Self-locking Nut x 2

M3 Hex Key Nickel Plated Allen Wrench x1

![](media/d9c59c894110ce30d9d39bbadc866793.png)![](media/e73ffe5ae70d53c5a750a6948a93816d.png)![](media/65d417a5b9135fae7e3bcca041624445.png)

Step 3: Install the Battery Holder

Prepare the parts as follows:

Battery Holder x1

M3 Nut x 2

Blue Metal holder x2

M4 Nut x8

M3x10MM Flat Head Screw x 2

M4x40MM Inner Hex Screw x4

M2.5 Hex Key Nickel Plated Allen Wrenchx1

M3 Hex Key Nickel Plated Allen Wrench x1

M3x25MM Inner Hex Screw x4

Finish the mount process. Go to fix the metal holder on the motor wheel with
four M4x40MM inner hex screws and four M4 nuts.

![](media/e4668f1f47bf9f514217f6ebe818d2ba.png)
![](media/2584211e5037ac00559c3d3b01c5bac2.png)
![](media/d763b76d99dcae8d25c0e8f7190006f5.png)![](media/b5dcec9193e5ceedbb1f038e69d9d544.png)

Step 4: Mount Acrylic Board and Sensors

Acrylic Board x 2

L- type Black Bracket x1

Photocell Sensor x2

IR Receiver Module x1

8X16 LED Panel x1

M2 Nut x4

M3 Nut x10

M3x6MM Inner Hex Screw x 8

M2.5 Hex Key Allen Wrench x1

M3x12MM Round Head Screw x7

M3x10MM Hexagon Copper Bush x8

M2x10MM Round Head Screw x 4

![](media/ff92e5f5b82a79be5a2a956b621e99b3.jpeg)![](media/16bf6867f9e91cd1381e6f90d2949bb1.jpeg)![](media/f59d4877bc002ef3a173ef2f3e042910.jpeg)![](media/e9f8630c8de6c1b6141a430badf865db.jpeg)

Step 5: Install the Servo Platform

Prepare the parts as follows:

Servo x1

Black Gimbal x1

Cable Tie x2

M2x8 Round Head Cross Tapping Screw x2

Ultrasonic Sensor x1

M2x4 Screw x1

M1.2x5 Screw x4

Note: for convenient debugging, keep the ultrasonic module straight ahead and
the angle of servo motor 90°. Therefore, we need to set servo to 90° before
installing the servo platform.

![](media/9d29c7f9af30af65704c08d71eda3072.png)

![](media/2a699a839b28414fc3f4c2e290f90384.png)

Note: You can find M1.2x5 Screws inside the bag of Plastic Platform

![](media/67bf78a0c063743de833674c9ca9b25d.png)

Step 6: Install Sensors and Boards

Prepare the parts as follows:

M3x6MM Round Head Screw x12

L298P Shield x1

V4.0 Board x1

V5 Sensor Shield x1

Screwdriver x1

Bluetooth Module x1

![](media/1beac6059f40b6eca748fc6dca13efaf.jpeg)![](media/9a5d6f464a4c682caa0edd65b5b573ae.jpeg)![](media/3de78f50269dc356ae17351e69f11df6.jpeg)![](media/2573f2ee9a26a451278c31f4bb6e3524.jpeg)

Step 7: Hook-up Guide

![](media/d35ffe6c0c275548f40bcafb42a93da1.jpeg)

![](media/9e02d1246e5ee76f004bba18685069fe.jpeg)

![](media/dda62c2ba6d1e994f8029339c249e12e.jpeg)

![](media/efa2b5b60a43cbdb7b06abeb543e35e5.jpeg)

![](media/2581b78ddf53a9d94655bf09a503aaaf.jpeg)

Step 8: Wire Up LED Panel

![](media/979e42393d123e86427aba670300740e.jpeg)![](media/2394590b9f127167cdbce26c939afd91.jpeg)![](media/87f1ff9241f145316d04a4072ba45df0.jpeg)

| LED Panel                                        | V5 Sensor Shield                                 |
|--------------------------------------------------|--------------------------------------------------|
| GND                                              | -(GND)                                           |
| VCC                                              | +(VCC)                                           |
| SDA                                              | SDA                                              |
| SCL                                              | SCL                                              |
| ![](media/979e42393d123e86427aba670300740e.jpeg) | ![](media/a17825552bd0275e895c66be0b2a3efe.jpeg) |

Step 9: install all parts of Acrylic plate

![](media/5bf9cf95040ef56217c2a5a77f059eed.png)

![](media/fc4ff9fa6898d37c816a0c23dbd7efed.jpeg)

![](media/fa285243c644ca7481c947e94ddb8bd8.png)

![](media/30d77c9f512c64d65352e049b134f7c0.png)

![](media/17a7c2181ccedd6fc6995f1b09276a9b.jpeg)

![](media/e791938575d9f5ce64437a91b5b62ed9.jpeg)

![](media/359345b00db31ba06827e98c1087ad42.png)

![](media/6385938690deb8eb33763951019169c5.png)

![](media/e009324ddfe85e3792b1dc71840d5278.png)

![](media/1ba9771b1d1292395753f7a703a98231.png)

![](media/466f5502689d16c6e59963a542d2a59e.jpeg)

![](media/78a6fe318789e9b9bf7f1af349c1bb70.jpeg)

![](media/78dd3d5dfe9902fc82acb8dc83d63dee.png)

Step 10: Tank Robot

Note: Remove the Bluetooth module before uploading test code, otherwise, you
will fail to upload test code.

![](media/f89eeea3bebb72d7a0829faed1774e22.png)

**6. Install Mixly Software and Driver**

**Download and Install Mixly**

①Description

Mixly is a free open-source graphical Arduino programming software, based on
Google’s Blockly graphical programming framework, and developed by Mixly Team@
BNU.

It is a complete support ecosystem for creative e-education, a stage for maker
educators to realize their dreams.

② Download Mixly1.0

Windows System：https://fs.keyestudio.com/Mixly1-Windows

MACOS System：https://fs.keyestudio.com/Mixly1-MACOS

We will take Mixly1.0 (Windows version) as example, and the installation method
of MAC version is similar with it.

You will get installation package after downloading. As shown below:

![](media/2c120c5b3e52fbec94b62b48a016a4d5.png)

Unzip the package, you will see “Mixly 1.0 for keyestudio.exe”

![](media/f8201facff78d06aad9ced9f5fe65e0f.png)

Double-click ![](media/8ec85e7035e6acc2271635f7c03dfc8e.png)”Mixly 1.0 for
keyestudio.exe”, the following interface pops up.

![](media/3b4de4ee8a8535e2e316c38e4c95e28f.png)

We have to choose correct Arduino development board and name, as shown below:

![](media/afbba18511c277cd0cf580353d22ac7f.png)

Select correct COM port(the corresponding port will be shown after installing
driver successfully)

![](media/cf570d717ad63f4d9c1793dcdbd65254.png)

You have to know the function of every area and interface on Mixly software
before uploading program on Arduino development board

![](media/c3360c388c06334c2d06c168763a3bed.png)

![](media/c09dc67b6729cab1451932399afcbde6.png)

**Keyestudio V4.0 Development Board**

We need to know keyestudio V4.0 development board, as a core of this smart car.

![](media/000340fde71d24b8054771e437a283f0.png)

keyestudio V4.0 development board is an Arduino uno-compatible board, which is
based on ATmega328P MCU, and with a cp2102 Chip as a UART-to-USB converter.

![](media/d1d8b8703109cc5f953ec723ac57804d.jpeg)

It has 14 digital input/output pins (of which 6 can be used as PWM outputs), 6
analog inputs, a 16 MHz quartz crystal, a USB connection, a power jack, 2 ICSP
headers and a reset button.

![](media/95bcb6f3d82a26fd7286459f2e5dd2e6.jpeg)

It contains everything needed to support the microcontroller; simply connect it
to a computer with a USB cable or power it via an external DC power jack (DC
7-12V) or via female headers Vin/ GND(DC 7-12V) to get started.

| Microcontroller             | ATmega328P-PU                                  |
|-----------------------------|------------------------------------------------|
| Operating Voltage           | 5V                                             |
| Input Voltage (recommended) | DC7-12V                                        |
| Digital I/O Pins            | 14 (D0-D13) (of which 6 provide PWM output)    |
| PWM Digital I/O Pins        | 6 (D3, D5, D6, D9, D10, D11)                   |
| Analog Input Pins           | 6 (A0-A5)                                      |
| DC Current per I/O Pin      | 20 mA                                          |
| DC Current for 3.3V Pin     | 50 mA                                          |
| Flash Memory                | 32 KB (ATmega328P-PU)0.5 KB used by bootloader |
| SRAM                        | 2 KB (ATmega328P-PU)                           |
| EEPROM                      | 1 KB (ATmega328P-PU)                           |
| Clock Speed                 | 16 MHz                                         |
| LED_BUILTIN                 | D13                                            |

**Installing V4.0 board Driver**

Let’s install the driver of keyestudio V4.0 board. The USB-TTL chip on V4.0
board adopts CP2102 serial chip. The driver program of this chip is included in
Arduino 1.8 version and above, which is convenient. Plug on USB port of board,
the computer can recognize the hardware and automatically install the driver of
CP2102.

If install unsuccessfully, or you intend to install manually, open the device
manager of computer. Right click Computer----- Properties----- Device Manager

![](media/afa5b0dde9342bd7ad9f385333cb6f55.png)

There is a yellow exclamation mark on the page, which implies installing
unsuccessfully. Then we double click the hardware and update the driver.

![](media/c26ca0ef1bf1506c815b6e3e239cf525.png)

Click “OK” to enter the following page, click“browse my computer for updated
driver software”, find out the installed or downloaded ARDUINO software. As
shown below:

![](media/4ec7a5ea3c8a1fd9663eef4768b687c5.png)

There is a DRIVERS folder in Arduino software installed
package（![](media/f50a31a59716594afbd7c2254cfd521e.png)）, open driver folder
and you can see the driver of CP210X series chips.

We click “Browse”, then find out the driver folder, or you could enter “driver”
to search in rectangular box, then click “next”, the driver will be installed
successfully. (I place Arduino software folder on the desktop, you could follow
my way)

![](media/417de936fa9720c7a7427c4d07718292.png)

Open device manager, we will find the yellow exclamation mark disappear. The
driver of CP2102 is installed successfully.

![](media/efce0ba96c48d853f302730b4d481ee9.jpeg)

![](media/2f751d5f4e4c0c18fa862c589eaaf0da.jpeg)

**Start the first program**

Click “Open”→ sample → arduino→ Arduino → 01 IN-OUTFile →01-LED-Blink.mix

![](media/b8191b5c11060a48ca25c2d605a57183.png)

The corresponding board and COM port will be shown after setting board and COM
port

![](media/c6ae6346cfadc1500c91cd9096b835a1.png)

Click **Compile** to start compiling the program, check errors.

![](media/3cc4f50c5a62d3356fc0c5cc9af85643.png)

Click **Upload** to upload the program, upload successfully.

![](media/f01375e7ffb9caa13906b04ec77ed381.png)

After uploading the program successfully, the onboard LED lights up for 1s,
lights off for 1s. Congratulation, you finish the first program.

## 7.Projects

The whole project begins with basic program. Starting from simple to complex,
the lessons will guide you to assemble robot car and absorb the knowledge of
electronic and machinery step by step. I reckon that you could hardly sit still
and itch to have a go, let’s get started.

![](media/b136b7a4b51302f3c58574b17370eae7.jpeg)

Note: (G), marked on each sensor and module, implies negative pole, which is
connected to “G”, ”-”or “GND”on the sensor shield and control board ; (V)
represents positive pole, which is linked with V , VCC, + or 5V on the sensor
shield and control board.

### Project 1: LED Blink

**,**![](media/4c5aa10c3eda7ed4c970b514f5d08da4.png)

1.  **Description**

For the starter and enthusiast, this is a fundamental program---LED Blink.

LED, the abbreviation of light emitting diodes, consist of Ga, As, P, N chemical
compound and so on. The LED can flash diverse color by altering the delay time
in the test code. When in control, power on GND and VCC, the LED will be on if S
end is high level; nevertheless, it will go off.

1.  **Specification**

![](media/16fbd30bf613a97959a7082a684d675d.png)

Control interface: digital port

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: red

1.  **Equipment**

![](media/de84625c18a4baffe3df7d08ae531229.png)

**(4) V5 Sensor Shield**

There will be troublesome when we combine Arduino development boards with
numerous sensors. However, the V5 sensor shield, compatible with Arduino
development board, address this problem perfectly. Just stack V5 board on it.

This sensor shield can be inserted into 3pin sensor modules and breaks out some
some communication pins, like serial, IIC, and SPI communication as well.

**Pins Description**

![](media/d12f81260114d999236bce072928aa43.png)

**Connection Diagram：**

![](media/65d77026e61311292cfaadc426d2cb11.png)

Seen from the above diagram, LED is linked with D2

**(5) Test Code**

You could drag the code file and copy it into Mixly software

| File Type | Route                                               | File Name            |
|-----------|-----------------------------------------------------|----------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_1_LED Blink | lesson_1.1_LED Blink |

You could edit code step by step as follows:

Enter“Control”to find out block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

Go to “Sensor” → “ControlOutput”
→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png);

Drag![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)block
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png);

LED is connected to D2, so set to PIN 2 and change HIGH into LOW

![](media/1e326c04e6cacbb5b426e32bb212d46e.png)

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\

Copy block![](media/c7bc08dfa388ebc4564b3c1af69e662a.png)once，change LOW into
HIGH and we get block![](media/aa664dc280a27774385fe371d385b37c.png).

xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\\

Enter “Control” to move out block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)

![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)+![](media/aa664dc280a27774385fe371d385b37c.png)=![](media/78750568e0d128ca2328ca655ccd34ef.png)

Replicate code string![](media/37bb0b48a74ab557947ac3bf3c0f2f02.png)once，alter
HIGH into LOW.

![](media/366b156e75040531388747fa0fad4b31.png)

Complete Program：

![](media/e4da3608c20dfa6c27a946dfb44ec75b.png)

**(6) Test Result**

Upload the program on the development board, LED flickers with the interval of
1s.

![](media/b42492b0ebdd2cc355d6082c6d3484c9.png)

1.  **Code Explanation**

We succeed to blink LED. Next, let’s observe what LED will change if we modify
pins and delay time.

**Connection Diagram**

![](media/5ed1c26f781c7ad71201e050f06b862c.png)

We’ve altered pins and connected LED to D10.

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                               | File Name            |
|-----------|-----------------------------------------------------|----------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_1_LED Blink | lesson_1.2_LED Blink |

You could edit code step by step as follows:

![](media/6249558962b35dd028c4c52aedd61032.png)

The LED flickers faster through the test result, therefore, pins and delay time
can affect flashing frequency.

### Project 2: Adjust LED Brightness

1.  **Description**

In previous lesson, we control LED on and off and make it blink.

In this project, we will control LED brightness through PWM to simulate
breathing effect. Similarly, you can change the step length and delay time in
the code so as to demonstrate different breathing effect.

PWM is a means of controlling the analog output via digital means. Digital
control is used to generate square waves with different duty cycles (a signal
that constantly switches between high and low levels) to control the analog
output.In general, the input voltage of port are 0V and 5V. What if the 3V is
required? Or what if switch among 1V, 3V and 3.5V? We can’t change resistor
constantly. For this situation, we need to control by PWM.

![](media/bbcfcb9ae56abb7e80ee587246fc4be9.gif)

For the Arduino digital port voltage output, there are only LOW and HIGH, which
correspond to the voltage output of 0V and 5V. You can define LOW as 0 and HIGH
as 1, and let the Arduino output five hundred 0 or 1 signals within 1 second.

If output five hundred 1, that is 5V; if all of which is 1, that is 0V. If
output 010101010101 in this way then the output port is 2.5V, which is like
showing movie. The movie we watch are not completely continuous. It actually
outputs 25 pictures per second. In this case, the human can’t tell it, neither
does PWM. If want different voltage, need to control the ratio of 0 and 1. The
more 0,1 signals output per unit time, the more accurately control.

PWM is a technology to obtain analog quantity through digital method. Digital
control forms a square wave, and the square wave signal only has two states of
switching (that is, high or low levels of our digital pins). By controlling the
ratio of the duration of on and off, a voltage varying from 0 to 5V can be
simulated. The time taken(academically referred to as high level) is called
pulse width, so PWM is also called pulse width modulation.

Through the following five square waves, let’s know more about PWM

![](media/553f3d1b6ca04e1aa0479841dd075fa2.png)

In the above figure, the green line represents a period, and value of
analogWrite() corresponds to a percentage which is called Duty Cycle as well.
Duty cycle implies that high-level duration is divided by low-level duration in
a cycle. From top to bottom, the duty cycle of first square wave is 0% and its
corresponding value is 0. The LED brightness is lowest, that is, turn off. The
more time high level lasts, the brighter the LED. Therefore, the last duty cycle
is 100%, which correspond to 255, LED is brightest. 25% means darker.

**(2) Specification**

Control interface: digital port

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

Display color: red

**(3) Equipment**

![](media/e5f9263773fca0e3c4f567a709a61de5.png)

**(4) Connection Diagram**

Keep connection diagram unchanged.

![](media/5ed1c26f781c7ad71201e050f06b862c.png)

(5) Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                           | File Name                        |
|-----------|-----------------------------------------------------------------|----------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_2_Adjust LED Brightness | lesson_2.1_Adjust LED Brightness |

You could edit code step by step as follows:

1.  Go to“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Click “sensor” → “ControlOutput”
    →![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

3.  Place ![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png) into
    ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block;

LED is linked with pin 10, therefore, set to PIN 10 and change HIGH into LOW.
![](media/aa12aaa2a6746b55f876a65757a960cc.png)

1.  Click“Control”to get block![](media/d551cec2b04e244ba508705b13925c97.png),
    then we set block![](media/ed65220e4e5a60e70a5ce4ba2f2d0bb0.png);

2.  Go to“In/Out”to get
    block![](media/a17197d6cd3de5fb2e3c6dc673a02f4d.png)，then set PIN 10.

3.  Click “Variables”to move out
    ![](media/fdc785cb5f7ddb9b3fdf361771904d09.png)into “0” box

Combine this two blocks:

![](media/c190f863e683d3e224ce478e2f76f16e.png)

1.  Go to“Control”to get block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)and
    set to 5ms

Leave it below “AnalogWrite...value i” block

![](media/c8f671c1b2499b6c8bfa2b74c9ec8ed2.png)

1.  Duplicate![](media/c8f671c1b2499b6c8bfa2b74c9ec8ed2.png), and set the code
    string as follows:

![](media/0079aef792c5eca2655da60a59537f7a.png)

Complete Code：

![](media/80fbbc2c63d3931d31e9aa60aaac28f9.png)

(6) Test Result：

Upload test code successfully, LED is getting bright then dark, rather than
light on and off immediately.

1.  Extension Practice：

Let’s modify the value of delay and remain the pin unchanged, then observe how
LED changes.

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                           | File Name                        |
|-----------|-----------------------------------------------------------------|----------------------------------|
| MIX file  | ../tutorial for Mixly/Mixly Code/lesson_2_Adjust LED Brightness | lesson_2.2_Adjust LED Brightness |

Complete Program：

![](media/13744b7f5a321882bdafacc7fbaa63a4.png)

Upload code on the development board and the time interval of LED getting dark
is longer.

### Project 3: Photoresistor Sensor

1.  Description

![](media/45d264e4b2e93ac8b29f422b4fd0c9b9.png)![](media/36e7e08764ed3c61a1c22f86be8c23d9.jpeg)

The photoresistor is a special resistor made of semiconductor materials such as
CdS or Selenide septum. The surface is also coated with moisture-proof resin,
which has a photoconductive effect. It is sensitive to ambient light. Its
resistance varies from different light intensities.

We use the characteristics of the photo-resistor to design the circuit and
generate the photo-resistor module.

Connecting the signal pin of photocell module to Analog port, when the stronger
the light intensity, the greater the voltage of analog port, the greater the
analog value is.

On the contrary, the weaker the light intensity, the smaller the voltage of
analog port, the smaller the analog value is.

Based on that, we can use the photocell module to read the analog value, so get
the ambient light intensity.

1.  Specification

![](media/0d9daba6454ef099fe1ceb0e6cb56ec4.png)

Resistance：5K ohm-0.5Mohm

Interface Type: analog

Working Voltage: 3.3V-5V

Easy installation: with screw fixing holes

Pin spacing: 2.54mm

1.  Equipment：

![](media/f81c7081e7c4e13ae03e705c7bf7154e.png)

(4) Connection Diagram：

![](media/288f30f0c9c705f2318402ba969d9351.png)

The two photoresistor sensors are linked with A1 and A2, then finish the
experiment via photoresistor connected to A1. Let’s read its analog value.

(5) Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                          | File Name                       |
|-----------|----------------------------------------------------------------|---------------------------------|
| MIX file  | ../tutorial for Mixly/Mixly Code/lesson_3_photoresistor sensor | lesson_3.1_photoresistor sensor |

You could edit code step by step as follows:

1.  Click “Control” →![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2)Enter“Serial Port”，to get
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Go
to“sensor”→“ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

Red LED is connected to D10 of expansion board, so set to D10 and LOW.

![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)+![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)=![](media/aa12aaa2a6746b55f876a65757a960cc.png)

(4) Enter “Serial Port” to find
out![](media/36812f244ceb4e3b789290aecde17332.png)

(5) Go to “sensor” → “AnalogRead”
→![](media/26aadc5e4e421dae79758d09ced82e8b.png)

(6) Photocell sensor is linked with A1, so set to A1

![](media/36812f244ceb4e3b789290aecde17332.png)
![](media/26aadc5e4e421dae79758d09ced82e8b.png)
![](media/1620251a546ec13c1b56a43dc8ed8618.png)

(7) Click“Control”to get
block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，set to 500ms
![](media/ac9dae35aec92b63a6041d9ec1b8c8ff.png)

Complete Program：

![](media/cd12e1bd1293e2e1b8053e2a7593bbd8.png)

1.  Test Result：

Upload the code to the development board, click “Monitor” to open the serial
monitor.

![](media/7c6ae738366c565c9a952877b1aebb09.png)

Upload code on development board, open serial monitor, check if its value
diminishes when covering photoresistor. However, the value increases when
uncovered.

1.  Extension Practice：

We’ve known how to read the value of photoresistor. Let’s combine photoresistor
with LED to view the status of LED.

![](media/9f3c9f5ed07f79341cc48ef9090ebd94.png)

PWM restrains the brightness, so LED is linked with PWM pins, connect LED to pin
10, keep pin of photoresistor unchanged, then design the code:

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                          | File Name                       |
|-----------|----------------------------------------------------------------|---------------------------------|
| MIX file  | ../tutorial for Mixly/Mixly Code/lesson_3_Photoresistor Sensor | lesson_3.2_Photoresistor Sensor |

You could edit code step by step as follows:

1.  Go to “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Enter ”Serial Port” to move out
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “sensor”→
    ”ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

Red LED is attached to D10, so set to P10 and LOW

![](media/b08bea02878cac62225733bd104e3076.png)

1.  Drag out ![](media/36812f244ceb4e3b789290aecde17332.png) from “Serial Port”

(5) Go to“sensor” → “AnalogRead”
→![](media/26aadc5e4e421dae79758d09ced82e8b.png).

Photocell sensor is linked with A1 of expansion board, so set to A0.
![](media/36812f244ceb4e3b789290aecde17332.png)+
![](media/26aadc5e4e421dae79758d09ced82e8b.png)=
![](media/1620251a546ec13c1b56a43dc8ed8618.png)

(6) Click “In/Out”to get
block![](media/a17197d6cd3de5fb2e3c6dc673a02f4d.png)，set to P10.

(7) Click “Math” to drag out![](media/670d1459b1080820ca7d4d4ee9ab64f0.png)into
0 box behind value.

(8) Replicate![](media/9243aafe8cad781ba4d2d11d2c5cd9fb.png)once and leave it
into blank box behind Map.

(9) Then set to from 0, 1023 to 0, 255

![](media/ad5103ea912f3234102b639a133feb53.png)

(10) Click “Control” to drag out
![](media/b36d41f8c3f679d192b1f7a4045b2f50.png), delay in 2ms

![](media/daa2246f69e13b8b74ae5c4385241bcf.png)

Complete Program:

![](media/c2b7c7b467da1fdc17fcd6e0c2661347.png)

Upload code, press it by hand to observe the the LED brightness.

### Project 4: Servo Control

1.  Description

Servo motor is a position control rotary actuator. It mainly consists of
housing, circuit board, core-less motor, gear and position sensor. Its working
principle is that the servo receives the signal sent by MCU or receiver and
produces a reference signal with a period of 20ms and width of 1.5ms, then
compares the acquired DC bias voltage to the voltage of the potentiometer and
obtain the voltage difference output.

When the motor speed is constant, the potentiometer is driven to rotate through
the cascade reduction gear, which leads that the voltage difference is 0, and
the motor stops rotating. Generally, the angle range of servo rotation is 0°
\--180 °

The rotation angle of servo motor is controlled by regulating the duty cycle of
PWM (Pulse-Width Modulation) signal. The standard cycle of PWM signal is 20ms
(50Hz). Theoretically, the width is distributed between 1ms-2ms, but in fact,
it's between 0.5ms-2.5ms. The width corresponds the rotation angle from 0° to
180°. But note that for different brand motor, the same signal may have
different rotation angle.

![](media/49467dfa70799401a5a5acc691014aee.png)

The corresponding servo angles are shown below:

![](media/ddc74f62dc936c925d28d70a1a9c2214.png)

1.  Specification：

Working voltage: DC 4.8V \~ 6V

Operating angle range: about 180 ° (at 500 → 2500 μsec)

Pulse width range: 500 → 2500 μsec

No-load speed: 0.12 ± 0.01 sec / 60 (DC 4.8V) 0.1 ± 0.01 sec / 60 (DC 6V)

No-load current: 200 ± 20mA (DC 4.8V) 220 ± 20mA (DC 6V)

Stopping torque: 1.3 ± 0.01kg · cm (DC 4.8V) 1.5 ± 0.1kg · cm (DC 6V)

Stop current: ≦ 850mA (DC 4.8V) ≦ 1000mA (DC 6V)

Standby current: 3 ± 1mA (DC 4.8V) 4 ± 1mA (DC 6V)

1.  Equipment：

![](media/3bf68e7bc7b941bda98a827e9b32b4cc.png)

1.  Hook-up Diagram

![](media/dac1c422778c7cb7812d1defb2816ea4.png)

Wiring note: the brown line of servo is linked with Gnd(G), the red line is
connected to 5v(V) and orange line is attached to digital 9.

The servo has to be connected to external power due to its high demand for
driving servo current. Generally, the current of development board is not
enough. If without connected power, the development board could be burnt.

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                   | File Name              |
|-----------|---------------------------------------------------------|------------------------|
| MIX file  | ../tutorial for Mixly/Mixly Code/lesson_4_Servo Control | lesson_4_Servo Control |

You could edit code step by step as follows:

1.  Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter “Module” →“Drive_Module”
    →![](media/1302cb9a43d91d5e24b17b8b397bb526.png)

3.  Place it into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，the
    signal end of servo is linked with D9, therefore, click triangle button to
    select 9. And set to 90° and delay in 500ms.

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/1302cb9a43d91d5e24b17b8b397bb526.png)=
![](media/fa34c864c77a2019d6aed6ee9de5b9f8.png)

1.  Duplicate ![](media/457af085547d96f00edb080d75e452f9.png)for three times,
    respectively set to 0°， 180°, 0°.

![](media/a2a15f3904290e3881630f94a1766317.png)

Complete Program：

![](media/b9acd9f0377a775697e0240aff5560c0.png)

(6) Test Result：

Upload code successfully and power on, servo swings back and forth in the range
of 0° to 180°.

### Project 5: Ultrasonic Sensor

**(1) Description**

![](media/0180b169a1c3b228394b43df704fac32.png)

The HC-SR04 ultrasonic sensor uses sonar to determine distance to an object like
bats do. It offers excellent non-contact range detection with high accuracy and
stable readings in an easy-to-use package. It comes complete with ultrasonic
transmitter and receiver modules.

![](media/9779999818cbbe4e1adf5b57081be431.png)The HC-SR04 or the ultrasonic
sensor is being used in a wide range of electronics projects for creating
obstacle detection and distance measuring application as well as various other
applications. Here we have brought the simple method to measure the distance
with arduino and ultrasonic sensor and how to use ultrasonic sensor with
arduino.

**(2) Specification：**

Power Supply :+5V DC

Quiescent Current : \<2mA

Working Current: 15mA

Effectual Angle: \<15°

Ranging Distance : 2cm – 400 cm

Resolution : 0.3 cm

Measuring Angle: 30 degree

Trigger Input Pulse width: 10uS

**(3) Equipment：**

![](media/e2cd4ad2e4a7913ebaa5d7f5f6496035.png)

**(4) The principle of ultrasonic sensor**

As the above picture shown, it is like two eyes. One is transmitting end, the
other is receiving end.

The ultrasonic module will emit the ultrasonic waves after trigger signal. When
the ultrasonic waves encounter the object and are reflected back, the module
outputs an echo signal, so it can determine the distance of object from the time
difference between trigger signal and echo signal.

The t is the time that emitting signal meets obstacle and returns.

and the propagation speed of sound in the air is about 343m/s, therefore,
distance = speed x time, because the ultrasonic wave emits and comes back, which
is 2 times of distance, so it needs to be divided by 2, the distance measured by
ultrasonic wave = (speed x time)/2

1.Use method and timing chart of ultrasonic module:

1.  2.Setting the delay time of Trig pin of SR04 to 10μs at least, which can
    trigger it to detect distance.

2.  2\. After triggering, the module will automatically send eight 40KHz
    ultrasonic pulses and detect whether there is a signal return. This step
    will be completed automatically by the module.

3.  3\. If the signal returns, the Echo pin will output a high level, and the
    duration of the high level is the time from the transmission of the
    ultrasonic wave to the return.

![](media/ba43be6007d9fe3aab0bb609868af640.png)

Circuit diagram of ultrasonic sensor:

![](media/a25028af84d6c7c94382c2a907101241.jpeg)

**(5) Connection Diagram**

![](media/bb05a5079dee74c9540be36eb88f659c.png)

Wiring guide:

Ultrasonic sensor keyestudio V5 sensor shield

VCC → 5v(V)

Trig → 5(S)

Echo → 4(S)

Gnd → Gnd(G)

(6) Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                       | File Name                    |
|-----------|-------------------------------------------------------------|------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_5_Ultrasonic Sensor | lesson_5.1_Ultrasonic Sensor |

You could edit code step by step as follows:

1.  Go to “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Enter “Serial Port” to move out
    ![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “Variables” to drag
    out![](media/1ae07a66a021f66804a4db9141d3e6f5.png)block and copy it twice.
    Then combine it with block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Enter “Math” to get block![](media/0171c9b9d68df2b854ebded805ca3371.png)and
    copy it twice.

3.  Integrate them with ![](media/19433985db7eeec84f54b176791b4e4f.png)，and
    separately change item into distance 1and distance 2.

![](media/57c14206426c33316cfee574abd253a8.png)

1.  Click “Variables” to find out
    block![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png)

2.  Go to “sensor”→”OtherSensor” to get
    block![](media/de5a620eaaf54ffdbe040d0e940677f9.png)and combine it with
    block![](media/4f02d1456bb0ed46714e9e8f0e9bc88c.png).

3.  Trig pin of ultrasonic sensor is connected to D5(S) of shield，Echo is
    attached to D4(S)，so set Trig 5 and Echo 4.

![](media/1422016f16267dca4356dd85a23c0cdd.png)

1.  Click “Variables” to get
    block![](media/dc7e1886ece9baf966a574d5fa53af9f.png)，and drag
    out![](media/8a4501800a666650f1d30c5c607de7e6.png) from “Math” and keep it
    behind block![](media/dc7e1886ece9baf966a574d5fa53af9f.png).

2.  Go to “Variables” to move out
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png)left 1 box“.

3.  Then change another 1 into 0.3937，and set to “×”.

![](media/250304f41af09475592b7a40fe25431a.png)

1.  Go to “Serial Port ” to drag out
    block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，and click“Variables”
    to get block![](media/795097919b1070a5a9cc46632e8e5196.png).

2.  Combine ![](media/795097919b1070a5a9cc46632e8e5196.png) with
    ![](media/f2f487f178408e3b391d083c82c1cd8d.png)

![](media/3d0814d2bc7b749213a5acd9941519ea.png)

(14)Go to “Serial Port” to get
block![](media/f2f487f178408e3b391d083c82c1cd8d.png)，then click “Text” module
to drag
block![](media/05e706fdf44ad085940a3211232eb8fb.png)into![](media/f2f487f178408e3b391d083c82c1cd8d.png)中，and
change hello into in.

![](media/899c5140cf100401bce73a5bdca195b5.png)

(15) Copy code string![](media/51d888a53b890075890ae1eee8d16cca.png)once，change
distance2 into distance1，in into cm

![](media/6af491fd33c011d6c722afc936225651.png)

1.  Click “Control” to get
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，delay in 250ms.

![](media/8e268c7e781c0be479927e64595d61d9.png)

Complete Program：

![](media/999c3cb9731ff945381ac62048d2888b.png)

(7) Test Result：

Upload test code on the development board, open serial monitor and set baud rate
to 9600. The detected distance will be displayed, unit is cm and inch. Hinder
the ultrasonic sensor by hand, the displayed distance value gets smaller.

![](media/db57c5b23e2d6dd41ad70d6331297262.png)

1.  Extension Practice:

We have measured the distance displayed by ultrasonic sensor. How about
controlling the LED with the measured distance? Let's try it, connect an LED
light module to the D10 pin.

![](media/27c298e7f8819a85e637fac52645272c.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                       | File Name                    |
|-----------|-------------------------------------------------------------|------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_5_Ultrasonic Sensor | lesson_5.2_Ultrasonic Sensor |

You could edit code step by step as follows:

(1) Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter“Serial Port”to move
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Then we follow the steps of Test Code to finish the code string
![](media/8e268c7e781c0be479927e64595d61d9.png)

(4) Click “Control” to get block![](media/2ca74f70e4001ad5a00d135a596025ab.png)
and go to “Logic” to get ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png) and
![](media/ba4beab2225dda3e12dc06a6f193731f.png).

(5) Place ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，and
leave ![](media/ba4beab2225dda3e12dc06a6f193731f.png) in the left box of
block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png).

(6) Enter “Variables” to get
block![](media/63bd47f41b8c51c393507f0dee65fe46.png) and keep it at left box of
block “=”.

(7) Go to “Math” to move out![](media/0171c9b9d68df2b854ebded805ca3371.png)into
right box of block “=”，and change 0 into 2, “=” into “≥”. Replicate
block![](media/98d62e267e0aeac3ce97b877ad34f782.png)once and set
![](media/533d83ffc6ebcab86afd0c659713e15e.png)

(8) Set code string as follows:

![](media/a9592c392143eb561f58f0215c5795dd.png)

(9) Enter “sensor” →“ControlOutput”
→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png).

(10) LED is connected to D10 of shield, so set to 10.

![](media/499cf599e03fd06eaaf93dfd186ae71a.png)

(11) Go to “Control” to drag out ![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)
and leave it below ![](media/d77b1258bf33f0a867b2f29d85813610.png).

![](media/8ebb62d232d20d5456fb7f9ae5046229.png)

(12) Then copy code string ![](media/72285eea066b382111663a24b58e2cbb.png)once
and finish the whole program as follows:

![](media/8551d09923ef3c056e4c3be9069c482b.png)

Complete Program：

![](media/9c14e82027d922b26dbc29a0004d776b.png)

Upload test code to development board, keep the distance in the range of 2cm to
10cm between ultrasonic sensor and hand and check if LED is flashing

### Project 6: IR Reception

(1) Description

There is no doubt that infrared remote control is ubiquitous in daily life. It
is used to control various household appliances, such as TVs, stereos, video
recorders and satellite signal receivers. Infrared remote control is composed of
infrared transmitting and infrared receiving systems, that is, an infrared
remote control and infrared receiving module and a single-chip microcomputer
capable of decoding.​

![](media/e0644987f70b38cdabde382b27858604.png)The 38K infrared carrier signal
emitted by remote controller is encoded by the encoding chip in the remote
controller. It is composed of a section of pilot code, user code, user inverse
code, data code, and data inverse code. The time interval of the pulse is used
to distinguish whether it is a 0 or 1 signal and the encoding is made up of
these 0, 1 signals.

The user code of the same remote control is unchanged. The data code can
distinguish the key.

When the remote control button is pressed, the remote control sends out an
infrared carrier signal. When the IR receiver receives the signal, the program
will decode the carrier signal and determines which key is pressed. The MCU
decodes the received 01 signal, thereby judging what key is pressed by the
remote control.

Infrared receiver we use is an infrared receiver module. Mainly composed of an
infrared receiver head, it is a device that integrates reception, amplification,
and demodulation. Its internal IC has completed demodulation, and can achieve
from infrared reception to output and be compatible with TTL signals.
Additionally, it is suitable for infrared remote control and infrared data
transmission. The infrared receiving module made by the receiver has only three
pins, signal line, VCC and GND. It is very convenient to communicate with
arduino and other microcontrollers.

![](media/dce6a373b4c3ef6734e0f813a4d40ee5.png)
![](media/bde6c475e15dc65996e95ed327ca1412.png)

(2) Specification

Operating Voltage: 3.3-5V（DC）

Interface: 3PIN

Output Signal: Digital signal

Receiving Angle: 90 degrees

Frequency: 38khz

Receiving Distance: 10m

(3) Equipment：

![](media/e1c346522c280d6e26387f2d68ea60a6.png)

(4) Connection Diagram:

![](media/1b347b1a87ee17dfa1d69f811670121c.png)

Respectively link “-”、“+” and S of IR receiver module with G(GND）, V（VCC）and
A0 of keyestudio development board.

Attention: On the condition that digital ports are not available, analog ports
can be regarded as digital ports. A0 equals to D14, A1 is equivalent to digital
15.

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                  | File Name               |
|-----------|--------------------------------------------------------|-------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_6_IR Reception | lesson_6.1_IR Reception |

You could edit code step by step as follows:

1.  Go to“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter“Serial Port”to move out
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “Module” → “Communicate_Module”
    →![](media/96059aeedab32910761af0731f9c3bae.png)，

2.  The S end of IR receiver module is connected to A0, so set to A0.
    ![](media/a80bbf1cd70dcc3b386008b048d97931.png)

Complete Program：

![](media/caee80c314c92ec46edfd9eb6bc9f8ae.png)

Upload test code, open serial monitor and set baud rate to 9600, point remote
control to IR receiver and the corresponding value will be shown, if pressing so
long, the error codes will appear

![](media/92887b989e103ef082569bbb34817852.png)

Below we have listed out each button value of keyestudio remote control. So you
can keep it for reference.

![](media/ebcf0cb2055f7784505f76ceeaef9f47.jpeg)

1.  Test Result：

We decoded the key value of IR remote control. How about controlling LED by the
measured value? We could operate an experiment to affirm. Attach an LED to D10,
then press the keys of remote control to make LED light up and off

1.  Extension Practice:

![](media/386be04822468a3048c6af493a11c707.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                  | File Name               |
|-----------|--------------------------------------------------------|-------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_6_IR Reception | lesson_6.2_IR Reception |

You could edit code step by step as follows:

(1) Enter“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Go to“Serial Port”drag
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)+![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

Enter
“Enter”→”Communicate_Module”→![](media/96059aeedab32910761af0731f9c3bae.png)，S
end of IR receiver module is linked with A0, so set
A0.![](media/a80bbf1cd70dcc3b386008b048d97931.png).

(4) Go to “Variables” to drag out
![](media/1ae07a66a021f66804a4db9141d3e6f5.png)block into
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，enter “Math” block to get
block![](media/0171c9b9d68df2b854ebded805ca3371.png), then place it behind value
and change item into a.

![](media/c05b35646e33af01ea62e8a614b36588.png)

1.  Click “Control”module to get
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，click![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)，move![](media/71afebb5c9a2069d14dd8df25d384542.png)into![](media/c1c89bf3006d0dc7f8b4c81de0ed817f.png)block，then![](media/2ca74f70e4001ad5a00d135a596025ab.png)turns
    into![](media/3956e6943d009077242fe93002233341.png)block.

2.  Go to “Logic”，and find out
    block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png). Leave it behind if
    block

3.  Go to “Logic” to place![](media/ba4beab2225dda3e12dc06a6f193731f.png)in the
    left box.

4.  Click “Variables” to move ![](media/6c120acad5ab3b20f027c326656b2f2d.png)in
    the left box of “=” block，go to “Math” to drag
    out![](media/0171c9b9d68df2b854ebded805ca3371.png)into right box of
    “=”，then change 0 into 0xFF02FD.

5.  Copy![](media/0370b3d4646a039e4d86bbfb7ff13e34.png)once and keep it into
    right box of ”and” block，change ir_item into a，0xFF02FD into 0.
    ![](media/2da16328defb5bf7ac8d4ebe630e0923.png)

(10) Click “sensor”→
“ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

(11) Keep it into the first do block，S end of red LED module is linked with D10
of expansion board，and set to Pin 10.

![](media/fbe3b1f610838478db0852cd5d7b2a8a.png)

1.  Go to “Variables” to move
    ![](media/2f3c35140a54edfff47c9b246c6056a3.png)below “Red_LED...HIGH” block.

2.  Click “Math” to get block![](media/0171c9b9d68df2b854ebded805ca3371.png)
    into![](media/2f3c35140a54edfff47c9b246c6056a3.png)，and change 0 into 1.

![](media/2dbabcc89b9a8e213a09459bb343cb6a.png)

1.  Replicate![](media/21dceda1bee34f5fd94b0a098d6c171a.png) once and move into
    “else if” ，change 0 into 1.

![](media/169e0d95818b9897f36168c029b8dd87.png)

1.  Replicate code string![](media/0c6442af35e34b6650e78d6337a0ed10.png)once and
    place it into second do block.

2.  Click “HIGH” into “LOW”，1 into 0.

![](media/1449c0436c1a1cd787211acf192cce37.png)

Complete Program：

![](media/d613cec6f095eed361f52623b9bd8d3e.png)

Upload code to development board, press “OK” key on remote control to make LED
on and off.

### Project 7: Bluetooth Remote Control

1.  Description

![](media/aa5546baeb5afe1adfe9fff51f497fe8.png)Bluetooth, a simple wireless
communication module most popular since the last few decades and easy to use are
being used in most of the battery-powered devices.

Over the years, there have been many upgrades of Bluetooth standard to keep
fulfil the demand of customers and technology according to the need of time and
situation.

Over the few years, there are many things changed including data transmission
rate, power consumption with wearable and IoT Devices and Security System.

Here we are going to learn about HM-10 BLE 4.0 with Arduino Board. The HM-10 is
a readily available Bluetooth 4.0 module. This module is used for establishing
wireless data communication. The module is designed by using the Texas
Instruments CC2540 or CC2541 Bluetooth low energy (BLE) System on Chip (SoC).

1.  Specification

Bluetooth protocol: Bluetooth Specification V4.0 BLE

No byte limit in serial port Transceiving

In open environment, realize 100m ultra-distance communication with iphone4s

Working frequency: 2.4GHz ISM band

Modulation method: GFSK(Gaussian Frequency Shift Keying)

Transmission power: -23dbm, -6dbm, 0dbm, 6dbm, can be modified by AT command.

Sensitivity: ≤-84dBm at 0.1% BER

Transmission rate: Asynchronous: 6K bytes ; Synchronous: 6k Bytes

Security feature: Authentication and encryption

Supporting service: Central & Peripheral UUID FFE0, FFE1

Power consumption: Auto sleep mode, stand by current 400uA\~800uA, 8.5mA during
transmission.

Power supply: 5V DC

Working temperature: –5 to +65 Centigrade

1.  Equipment：

![](media/5f139ecf081bc938c1875890682369fa.png)

1.  Connection Diagram

**1. STATE:** *state test pins, connected to internal LED, generally keep it
unconnected.*

**2. RXD:** *serial interface, receiving terminal.*

**3. TXD:** *serial interface, transmitting terminal.*

**4. GND:** *Ground.*

**5. VCC:** *positive pole of the power source.*

**6. EN/BRK:** *break connect, it means breaking the Bluetooth connection,
generally, keep it unconnected.*

![](media/9f26c9451c3beaa7edb33a991c04a981.png)

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                              | File Name                           |
|-----------|--------------------------------------------------------------------|-------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_7_Bluetooth Remote Control | lesson_7.1_Bluetooth Remote Control |

You could edit code step by step as follows:

1.  Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter“Serial Port”to move
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “Variables” to drag out
    ![](media/1ae07a66a021f66804a4db9141d3e6f5.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，enter
    “Math” block to get block![](media/0171c9b9d68df2b854ebded805ca3371.png).

2.  Place it behind “value”，and change item into ble_val，click the drop-down
    triangle button to select char.

![](media/7f31ab21d82a4e3b53f61226eccfe92f.png)

1.  Go to “Control” to get
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，and click “Serial
    Port” to move out block![](media/1f87abf3c6ac4fbadf1e234e76a8aefd.png)into
    if block.

![](media/e79f4c4583c686d756bf777d54abef20.png)

1.  Enter “Variables” to drag out
    block![](media/4615c6b7c93add0fe05558f27c8bbf00.png)into do block，click
    “Serial Port” to move out block
    ![](media/35c893d098bc538139d7dfd6ecc560d6.png) into
    ![](media/4615c6b7c93add0fe05558f27c8bbf00.png) block.

![](media/262ecdaead6e3f8a1623400d4c0f25e2.png)

1.  Enter “Serial Port” to move
    block![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png) into do block，then
    click “Variables” to drag out
    ![](media/66c33076d8003c5b40d8da950b5c6240.png)into
    block![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png).

![](media/e8c82f72421db068e1e51ce4c6870104.png)

Complete Program：

![](media/1dccac0d10235835664c8b58c80a0355.png)

(There will be contradiction between serial communication of code and
communication of Bluetooth when uploading code, therefore, don’t link with
Bluetooth module before uploading code.)

After uploading code on development board, then insert Bluetooth module, wait
for the command from cellphone.

**(6) Download APP**

The code is for reading the received signal, and we also need a stuff to send
signal. In this project, we send signal to control robot car via cellphone.

Then we need to download the APP.

1.  **iOS system**

**Note: Allow APP to access “location” in settings of your cellphone when
connecting to Bluetooth module, otherwise, Bluetooth may not be connected.**

Enter APP STORE to search **BLE Scanner 4.0, then download it.**

![](media/17adf8dc7318b8104373f0d518398279.png)

1.  **Android system**

Enter [Google Play](https://developer.android.google.cn/distribute?hl=zh-cn) to
find out **BLE Scanner, then download.**

**And allow APP to access“location”, you could enable “location”in settings of
your cellphone.**

![](media/cf5e6cd8b98346d3e90faf4a10e92dc1.png)

1.  After installation, open App and enable “Location and Bluetooth” permission.

2.  We take iOS version as example. The operation method of Android version is
    almost same as it.

3.  Scan Bluetooth module to get Bluetooth BLE 4.0. Its name is HMSoft.

Then click“connect”to link with Bluetooth and use it.

![](media/cc2ad4236eb001676ae447e8033edd2f.png)

1.  After connecting to HMSoft, click it to get multiple options, such as device
    information, access permission, general and custom service. Choose “CUSTOM
    SERVICE”

![](media/af36b3e8e815a539c07c18738ee5366f.png)

7.Then pop up the following page

![](media/f74e64f9f29e0813db44971d2896d7f2.png)

8\. Click（Read,Notify,WriteWithoutResponse)to enter the following page

![](media/c769ffa7b68eb36516a429147d5f65b6.png)

1.  Click **Write Value, appear the interface to enter HEX or Text.**

![](media/d8afcda78947d9fc25d41cc16a182369.png)

1.  Open the serial monitor on Arduino，enter a 0 or other character at Text
    interface.

![](media/767ed0b7d1876e63ff109d8a355209ac.png)

Then click“Write”, open serial monitor to view if there is a “0” signal

![](media/5254b35b30451fc6dbf7de998cf5e16b.png)

(7) Extension Practice：

Make Bluetooth to control a LED, then we connect a LED to D10.

![](media/9f26c9451c3beaa7edb33a991c04a981.png)The program will be generated if
you find the following file and drag it into Mixly software.

| File Type | Route                                                              | File Name                           |
|-----------|--------------------------------------------------------------------|-------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_7_Bluetooth Remote Control | lesson_7.2_Bluetooth Remote Control |

You could edit code step by step as follows:

1.  Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter“Serial Port”to move
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

3.  Click “Variables” to move
    block![](media/1ae07a66a021f66804a4db9141d3e6f5.png)into
    ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，then go to “Math” to
    find out![](media/0171c9b9d68df2b854ebded805ca3371.png)，

4.  Combine
    ![](media/1ae07a66a021f66804a4db9141d3e6f5.png)with![](media/0171c9b9d68df2b854ebded805ca3371.png)and
    change item into i.

![](media/88ca5fbbbaac4f042b99981fffa0cc1b.png)

1.  Click “Control” to get
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，and enter “Serial
    port”to move![](media/1f87abf3c6ac4fbadf1e234e76a8aefd.png)into if block.

![](media/e79f4c4583c686d756bf777d54abef20.png)

1.  Go to “Variables” to drag
    block![](media/1feb00be959378a6ea2ec6580a4965bd.png)into do block，

2.  enter “Serial port” to move
    out![](media/35c893d098bc538139d7dfd6ecc560d6.png)block and edit code string
    as follows:

![](media/9367806c20fb3f3eb0a49501a4c5a89c.png)

1.  Enter “Serial port” to drag
    out![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png)，

2.  Click “Text” to move
    out![](media/ee1758296e24627c48d5207171c160b6.png)into![](media/c5b6ffacfdbd75150684d2e7744fa9bc.png)block，and
    change “hello” into DATA RECEIVED：.

![](media/d1065384adcd0f7f2cbe853d334630cc.png)

1.  Click “Control” to move out
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)into do，click “Logic”
    to move![](media/a4c954b2483cfdf0130916768d69f56e.png)block into if，

2.  Enter “Variables” to move
    ![](media/7c12efbf3f0e9e6d8473c96374003e14.png)into left box of “=”，then
    enter “Text” to get block![](media/a3e5bd1b881a89edee91f44d22ff0640.png)and
    leave it into right box“=”，change a into 1.

![](media/f1acdb9da0a979f252eff728fed7447d.png)

1.  Enter “sensor”→
    “ControlOutput”→![](media/aff24ef3f0c42f62d87a2ef53fdb58b2.png)

2.  Drag it into the second do block，S end of red LED is connected to D11,
    therefore, set to Pin 11.

![](media/9484071e6f04aef3d445cab15d531e59.png)

1.  Replicate![](media/53a5ad7e8d90f73bff7a05ed2c95ef00.png)once and place it
    into the second do block.

2.  Change DATA RECEIVED：into led on.

![](media/97fd1ae679387f5f51359e1c89e77d87.png)

1.  Copy code string![](media/e8382851e1819961f9ad95b50521c7fc.png)once and
    change 1 into 0，click “HIGH” to select “LOW”，and change led on into led
    off.

![](media/6c5de7b436cfcd14d2fc8e74bd4376ae.png)

Complete Program：

![](media/33e623fe85634b830ae8063368c03943.png)

![](media/36876dc70ff9045594cb49b305e8e5a7.png)![](media/767ed0b7d1876e63ff109d8a355209ac.png)

Click “Write” on APP, when you enter 1, LED will be on, when you input 0, LED
will be off. (Remember to remove the Bluetooth module after finishing
experiment, otherwise, burning code will be affected)

### Project 8: Motor Driving and Speed Control

(1) Description:

![](media/705bf5838ebbe325e6861dcf278ff3c0.png)There are many ways to drive the
motor. Our tank robot uses the most commonly used L298P solution. L298P is an
excellent high-power motor driver IC produced by STMicroelectronics. It can
directly drive DC motors, two-phase and four-phase stepping motors. The driving
current up to 2A, and output terminal of motor adopts eight high-speed Schottky
diodes as protection.

We designed a shield based on the circuit of L298p.

The stacked design reduces the technical difficulty of using and driving the
motor.

1.  **Schematic Diagram**

![](media/38a76126ebf4bcbf11a42f979a010a83.png)

![](media/f82ba4dc9193ee0e7118d1252dd8c106.jpeg)

1.  Logic part input voltage: DC5V

2.  Driving part input voltage: DC 7-12V

3.  Logic part working current: \<36mA

4.  Driving part working current: \<2A

5.  Maximum power dissipation: 25W (T=75℃)

6.  Working temperature: -25℃～＋130℃

7.  Control signal input level: high level 2.3V\<Vin\<5V, low level
    \-0.3V\<Vin\<1.5V

**(3) Drive Robot to Move**

Through the above circuit diagram, the direction pin of A motor is D12, and
speed pin is D3; D13 is the direction pin of B motor, D11 is speed pin.

We know how to control digital ports according to the following chart.

PWM decides 2 motors to turn so as to drive robot car. The PWM value is in the
range of 0-255, the larger the number, the faster the motor rotates

| **Tank Robot**  | **Motor (A)**      | **Motor (B)**      |
|-----------------|--------------------|--------------------|
| Forward         | Turn clockwise     |                    |
| Backward        | Turn anticlockwise |                    |
| Rotate to left  | Turn anticlockwise | Turn clockwise     |
| Rotate to right | Turn clockwise     | Turn anticlockwise |
| Stop            | Stop               | Stop               |

1.  Equipment：

![](media/11cb6e1929d81df3340e11dd8c9587c0.png)

1.  Connection Diagram:

![](media/d35ffe6c0c275548f40bcafb42a93da1.jpeg)

**Note:** the 4Pin terminal block is marked with silkscreen 1234. The red line
of right rear motor is connected to terminal 1, black line is linked with end 2.
The red line of left front motor is attached to terminal 3, black line is linked
with port 4.

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                     | File Name                                  |
|-----------|---------------------------------------------------------------------------|--------------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_8_Motor Driving and Speed Control | lesson_8.1_Motor Driving and Speed Control |

You could edit code step by step as follows:

(1) Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Go
to“Module”→“Drive_Module”→![](media/464a82194a287172b7f86e7270358b98.png)，

Place it into ![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block，

(3) The direction pin and speed control pin of B motor(left) are connected to
D13 and D11. So set PIN 13 and PIN11 as follows:

![](media/ab81d12a1ee0e07545eb5551923c0eee.png)

(4) Copy![](media/ff18c206e11fec5df599842243feeec1.png)once and place it into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

(5) The direction pin and speed control pin of A motor (right) are connected to
D12 and D3. So set PIN 12 and PIN 3 as follows:

![](media/df3f89f098499b9b36a0a3c7dceb2afb.png)

(6) Duplicate code string ![](media/ae9ebbef010d3b27f6721b4652e89e5f.png)once,
set INA to LOW and PWB to 200：

![](media/7e2638e27e67d7522797ebb2f4998450.png)

1.  Click“Control” to move out
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)，delay in 2000ms.

![](media/4a5a8ec30135d360b92c6b8043ef23af.png)

1.  Replicate![](media/4a5a8ec30135d360b92c6b8043ef23af.png)for four times，then
    set the code string as follows:

![](media/8c4aa08e3e175ce4c5658ebd2b130762.png)

Complete Program：

![](media/785272e213dadfda91c9b4600aca8430.png)

(7) Test Result：

Hook up by connection diagram, upload code and power on, smart car goes forward
and back for 2s, turns left and right for 2s, stops for 2s and alternately.

(8) Extension Practice：

Adjust the speed that PWM controls the motor, hook up in same way

![](media/d35ffe6c0c275548f40bcafb42a93da1.jpeg)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                                     | File Name                                  |
|-----------|---------------------------------------------------------------------------|--------------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_8_Motor Driving and Speed Control | lesson_8.2_Motor Driving and Speed Control |

You could edit code step by step.

Complete Program：

![](media/b49fcd389eb0eff4e87cf052c8e68a77.png)

Upload code successfully, the motors rotate faster.

### Project 9: 8x16 LED Board

1.  **Description**

![](media/2c6708cb4d9bb775c0b6001b47ad0392.jpeg)If we add a 8x16 LED board to
the robot, it will be amazing. Keyestudio's 8x16 dot matrix can meet your
requirements. You can create facial emoticons, patterns or other interesting
displays yourself. 8x16 LED light board comes with 128 LEDs. The data of the
microprocessor (arduino) communicates with the AiP1640 through the two-wire bus
interface, so as to control the 128 LEDs on the module, which produce the
patterns you need on dot matrix. To facilitate wiring, we also provide a HX-2.54
4Pin wiring.

(2) Specification

Working voltage: DC 3.3-5V

Power loss: 400mW

Oscillation frequency: 450KHz

Drive current: 200mA

Working temperature: -40\~80℃

Communication method: two-wire bus

**(3) Equipment**

![](media/710db54aaa3ca9ecc88f30139f1df6ab.png)

**(4) 8x16 Dot Matrix Display**

![](media/edf6c77d05904eebbaa89d557e9e9c1a.png)

**The principle of 8x16 dot matrix:**

How to control each led light of 8x16 dot matrix? We know that a byte has 8
bits, each bit is 0 or 1. When a bit is 0, turn off LED and when a bit is 0,
turn on LED. Thereby, one byte can control the LED in a row of dot matrix, so 16
bytes can control 16 columns of led lights, that is, 8x16 dot matrix.

**Interface Description and Communication Protocol:**

The data of the microprocessor (arduino) communicates with the AiP1640 through
the two-wire bus interface.

The communication protocol diagram is shown below:

(SCLK) is SCL, (DIN) is SDA:

![](media/ea2bab37f23c09453c680590b84653d6.png)

①The starting condition for data input: SCL is high level and SDA changes from
high to low.

②For data command setting, there are methods as shown in the figure below

In our sample program, select the way to **add 1 to the address automatically**,
the binary value is 0100 0000 and the corresponding hexadecimal value is 0x40

![](media/7e326d7edc877ea2509cbf8649f82d99.png)

③For address command setting, the address can be selected as shown below.

The first 00H is selected in our sample program, and the binary number 1100 0000
corresponds to the hexadecimal 0xc0

![](media/e6da87c9f6056f849c973edec5456f3e.png)

④The requirement for data input is that SCL is high level when inputting data,
the signal on SDA must remain unchanged. Only when the clock signal on SCL is
low level, the signal on SDA can be altered. The data input is low-order first,
high-order is behind

⑤ The condition to end data transmission is that when SCL is low, SDA is low,
and when SCL is high, the SDA level also becomes high.

⑥ Display control, set different pulse width, the pulse width can be selected as
shown below

In the example, we choose pulse width 4/16, and the hexadecimal corresponds to
1000 1010 is 0x8A

![](media/ad238f413988f77bcf074a5642a5061d.png)

4\. Introduction for Modulus Tool

The online version of dot matrix modulus tool:

[http://dotmatrixtool.com/\#](http://dotmatrixtool.com/)

①Open links to enter the following page.

![](media/354693b5679a2615c62e99b7025d6355.png)

②The dot matrix is 8x16 in this project, so set the height to 8, width to 16, as
shown below.

![](media/5f0278d66ade370e871b447d360d6e7b.png)

③ Generate hexadecimal data from the pattern

As shown below, press the left mouse button to select, the right button to
cancel, draw the pattern you want, click **Generate**, and the hexadecimal data
we need will be produced.

![](media/586e88bf13c61b0918046437ed7f6796.png)

**(5) Connection Diagram**

![](media/cdcb777e436fab5018611de1c65b6269.png)

Wiring note: The GND, VCC, SDA, and SCL of the 8x16 LED panel are respectively
connected to -(GND), + (VCC), A4 and A5 of the keyestudio sensor expansion board
for two-wire serial communication. (Note: This pin is connected to arduino IIC,
but this module is not IIC communication, it can be linked with any two pins.)

1.  **Test Code**

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                    | File Name                 |
|-----------|----------------------------------------------------------|---------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_9_8x16 LED Board | lesson_9.1_8x16 LED Board |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2)Enter“Module”→“Display_Module”→![](media/efee168b78529ea542f0c20f430521e0.png)

(3) Leave it into block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/6fbcf15241f1ece01703010e71c4e381.png)

(4) Go to “Display_Module” to get
block![](media/612e884a761042c88cc33395ade595cd.png)and leave it into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，and click drop-down
triangle button to set “clear”.

![](media/211c3c0d99cfce78bbf510cce486ad9f.png)

(5) Move out block![](media/612e884a761042c88cc33395ade595cd.png)，and
set“![](media/97215168f939260e175fbbb0e347f0bc.png)”.

![](media/ecec939c074964d61aaf5770e2249bf0.png)

Complete Program：

\|![](media/cd1db20768dd5eda1eed1375bb52e2b6.png)
![](media/97215168f939260e175fbbb0e347f0bc.png) pattern Initialization Set to
SCL and SDA, SCL corresponds to A5, SDA to A4. Clear screen 8x16 dot matrix
shows ![](media/97215168f939260e175fbbb0e347f0bc.png) pattern \|
\|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\|

1.  Test Result:

Wire according to connection diagram. The DIP switch is dialed to right end and
power on, the smile face appears on dot matrix.

![](media/6652fae30a9d37cf218277c23ea5d349.png)

1.  Extension Practice：

We use the modulo tool
([http://dotmatrixtool.com/\#](http://dotmatrixtool.com/))to make the dot matrix
alternately display start, forward and stop patterns then clear the patterns.
The time interval is 2000 milliseconds.

![](media/9866c73416df7466b5fe8be3712e6eb3.png)![](media/1c7ab4b08636c2fe61deaf6c784da7d8.png)![](media/b0a961f27eb5f0b66603abe23d6bb56a.png)



Get the graphical code to be displayed via modulus tool

**Start：**

![](media/5927be2e093863abf1518993505b6571.png)

**Go front：**

![](media/67e0d5afd018011543d5b55c4587db67.png)

**Go back：**

![](media/d14e4cccd8ee6cb577d33345a736ee80.png)

**Turn left：**

![](media/cc3b9f474c4285bf472dc469c522b990.png)

**Turn right：**

![](media/a53a8be1f15271e2ffbcac4e30a2202e.png)

**Stop：**

![](media/8b5c3b0e87b1a17a63f63f6ac5527def.png)

**Clear:**

![](media/7002879d48674b13918fcda662a546c4.png)

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                    | File Name                 |
|-----------|----------------------------------------------------------|---------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_9_8x16 LED Board | lesson_9.2_8x16 LED Board |

You could edit code step by step as follows:

(1) Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

1.  Enter “Module” →"Display_Module" to move
    block![](media/efee168b78529ea542f0c20f430521e0.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/6fbcf15241f1ece01703010e71c4e381.png)

1.  Then drag
    block![](media/612e884a761042c88cc33395ade595cd.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.  Click the drop-down triangle button behind “↑”to select “clear”.

![](media/211c3c0d99cfce78bbf510cce486ad9f.png)

1.  Copy ![](media/612e884a761042c88cc33395ade595cd.png) again, click the
    drop-down triangle button behind “↑” to set “V”.

![](media/b7a2f2bd2217bb15e9db862dad8340fc.png)

1.  Click “Control” to get block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png),
    delay in 2000ms.

![](media/e25797d4a4e712d00770afe38368965f.png)

1.  Replicate code string![](media/e25797d4a4e712d00770afe38368965f.png)for
    three times，separately click the triangle button to set “↑”, “STOP”
    and“clear”.

![](media/37a48a9ab4e89af0f62b45b710ead145.png)

Complete Program：

![](media/9f0bf406b15bc5ed948d82c0a375bde0.png)

Upload code on development board, 8x16 dot matrix displays front , and stop
patterns, alternately.

![](media/a6033e9a299770dd012746d5ca0f9ad9.png)![](media/2103a0b26c0872958b05addd1e4eec48.png)![](media/e269e060c9a0dd4311ea34e8333c297e.png)

### Project 10: Light Follow Robot

![](media/829f30a3305322b15372ca0df6213ebb.png)

1.  **Description**

We’ve introduce how to use various sensors, modules.

In this lesson, we combine with hardware knowledge -- photoresistor module,
motor driving, to build a light-following robot!

Just need to use 2 photoresistor modules to detect the light intensity at the
both side of robot. Read the analog value to rotate the 2 motors, thus drive the
tank robot run.

**The specific logic of light following robot is shown as the table below:**

| Detection (the higher the brightness, the greater the value is) | Left photocell module                | left_light  |
|-----------------------------------------------------------------|--------------------------------------|-------------|
|                                                                 | Right photocell module               | right_light |
| If                                                              | left_light＞650 and right_light＞650 |             |
| Status                                                          | Go forward（PWM set to 200）         |             |
| If                                                              | left_light＞650 and right_light≤650  |             |
| Status                                                          | Rotate to left（PWM set to 200）     |             |
| If                                                              | left_light≤650 and right_light＞650  |             |
| Status                                                          | Rotate to right（PWM set to 200）    |             |
| If                                                              | left_light≤650 and right_light≤650   |             |
| Status                                                          | stop                                 |             |

Flow Chart：

![](media/6957d89adaa3b77e95028820b00871c3.png)

![](media/82fab73681e76e56e763a4e60bf1139d.jpeg)

| Left photo resistor  |   | Sensor Shield |
|----------------------|---|---------------|
| -                    | → | G（GND）      |
| +                    | → | V（VCC）      |
| S                    | → | A1            |
|                      |   |               |
| Right Photo resistor |   | Sensor Shield |
| -                    | → | G（GND）      |
| +                    | → | V（VCC）      |
| S                    | → | A2            |

Attention:

The 4Pin terminal block is marked with silkscreen 1234. The red line of right
rear motor is connected to terminal 1, black line is linked with end 2. The red
line of left front motor is attached to terminal 3, black line is linked with
port 4.

(3) Test Result：

Upload code on keyestudio V4.0 development board, DIP switch is dialed to right
end and power on, the smart robot follows light to move.

(4) Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                         | File Name                    |
|-----------|---------------------------------------------------------------|------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_10_Light Follow Robot | lesson_10_Light Follow Robot |

You could edit code step by step as follows:

1.  Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter“Serial Port”to move
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Click “Variables” to move
block![](media/6f172be17940bbd0c635924742208b16.png)
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

(4) Enter “Math”to move block![](media/6b5857774b87b36258be2b8a48752627.png),
combine it with
block![](media/6f172be17940bbd0c635924742208b16.png),![](media/6b5857774b87b36258be2b8a48752627.png)+![](media/6f172be17940bbd0c635924742208b16.png)=![](media/c376f71ce273bc7c11f361d0dc8906a1.png);

(5) Copy![](media/c376f71ce273bc7c11f361d0dc8906a1.png)once and leave it
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，separately change item into
left_light and right_light

![](media/e351cd0edff687946d20b78927f569ee.png)

(6) Click “Sensor” →
“ControlOutput”→![](media/19a7d5b0a68ba068d7836ca367d4aaf5.png)， then place it
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block.

![](media/c65226d33d3025a2cac0d212599f3542.png)

(7) Click “Variables” to get
block![](media/f2a6ea2c1bdc575f19c3a5e997a23684.png)，

Go to “Sensor” → “ControlOutput”
→![](media/289f3bb8ce102eea31f7e588a2f4e301.png)，

1.  Place it into![](media/f2a6ea2c1bdc575f19c3a5e997a23684.png)；then replicate
    code ![](media/32ec2d7858deeae101e3284b56ab9b98.png)once，change left_light
    into right_light，and click drop-down triangle button to set
    right_light_sensor.

![](media/55a223bd51aed189e23dd9e2977cfeae.png)

1.  Enter “Serial Port” to get
    block![](media/74ffe658e52e9615b412cd61df6e446a.png)，click “Text”to move
    out block![](media/67cdb8f3d5e4b0cc1a087f3a383e8d9d.png)into
    block![](media/74ffe658e52e9615b412cd61df6e446a.png)，change hello into
    left_light_value=.

![](media/a8bb849b6053bc1fdc96d25739c10701.png)

1.  Click “Serial Port” to get
    block![](media/d356a4cf8b5c2bb42df692669d3eaff4.png)，and go to“Variables”
    to drag out
    block![](media/3071fc0d749de240faa9ed11e0989990.png)into![](media/d356a4cf8b5c2bb42df692669d3eaff4.png).

![](media/88d30b8a0f0d956d9f305cc939761f3a.png)

(11)Duplicate code
string![](media/9398e86364b47cb2a53b2fb33f68e2e6.png)once，change
left_light_value= into right_light_value=，left_light into right_light.

![](media/7cd2b6ab85c3661ee660f89520077d14.png)

(12) Click “Control” to move out
block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，tap![](media/86a19fdfc831358c605f99cf73254079.png)，![](media/d0582e0ce7715347855beb46f30947cd.png)appears,
drag ![](media/8ea2bafa58f42edf0c11e9e2a3f5bc41.png)into
block![](media/23d14c6bea2dbc6dce97e3b22ee8adcb.png)for 2 times and move
![](media/9bc8c8a6de8c36f6f62e3efb6da47926.png) into if block, then the
block![](media/f1eea600de88c95aa2ef0ae8344c2550.png)is produced.

(13) Go to “Logic” to get block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)
and ![](media/ba4beab2225dda3e12dc06a6f193731f.png).

Place ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，and leave
![](media/ba4beab2225dda3e12dc06a6f193731f.png) in the left box of
block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png).

(14) Enter “Variables” to get
block![](media/3071fc0d749de240faa9ed11e0989990.png) and keep it at left box of
block “=”.

(15) Go to “Math” to move out![](media/0171c9b9d68df2b854ebded805ca3371.png)into
right box of block “=”，and change 0 into 650, “=” into “\>”. Replicate
block![](media/422d18936a64667a2878531b50f2ea60.png)once and set
![](media/c2b44dded26b6858b4e1218107503e4f.png)block and edit code string as
follows:

![](media/94fab0a5b668ff4ae5e3faa5c7aefc85.png)

(16) Enter “Robot”→ “TankCar” to get
block![](media/c3f51a4ef0575e3087f1f3ee06f65345.png)and place it into first do
block，and set to 200 ![](media/c59787afb9a3dc9c6a1fe192666c169f.png)

(17) Duplicate![](media/a95ba1fb7793c9c7af29d90011ed812f.png)for two times and
move out block
![](media/76e9dfca40348df868b41b38dcdea806.png)and![](media/8f5f527d11f46895623e46534453701d.png).

(18) Change![](media/a95ba1fb7793c9c7af29d90011ed812f.png)
into![](media/44b9bd5b2cc0a7e3b40d496cd9a8cbc3.png)and![](media/13dc28d60ad084049c91d623303bca5b.png),
0 into 200. Then edit the code string as follows:

![](media/cf01364b809ad5afafa4b86cb5b9f1c3.png)

1.  Click “Robot”→ “TankCar”→![](media/19a7d5b0a68ba068d7836ca367d4aaf5.png)，
    and leave it into else block.

![](media/5b9379f6ac5155e9fbb94a2e5b233c65.png)

Complete Program：

![](media/7047fd544303c2b61bd8cc8aa7c76dff.png)

### Project 11: Ultrasonic Avoid Tank

![](media/455bedb954285093ee97e99c5b1fe93d.png)

1.  Description：

In this program, the ultrasonic sensor detects the distance of obstacle to send
signals that control the robot car. Next, let’s show you how to make an obstacle
avoidance car.

**The specific logic of ultrasonic avoiding robot is as shown below:**

| Detection   | measured distance of front obstacle (servo angle 90°)                                                                     | a（unit：cm）     |                                                                                             |
|-------------|---------------------------------------------------------------------------------------------------------------------------|-------------------|---------------------------------------------------------------------------------------------|
|             | measured distance of right obstacle (servo angle 20°)                                                                     | a2（unit：cm）    |                                                                                             |
|             | measured distance of left obstacle (servo angle 160°)                                                                     | a1（unit：cm）    |                                                                                             |
| Settings    | Servo initial angle 90°                                                                                                   |                   |                                                                                             |
| Condition 1 | State                                                                                                                     |                   |                                                                                             |
| a＜20       | Stop 1 second; set the servo angle to 160°, reading a1, delay 500ms; set the servo angle to 20°, reading a2, delay 500ms; |                   |                                                                                             |
|             | Condition 2                                                                                                               | State             |                                                                                             |
|             | a1＜50 Or a2＜50                                                                                                          | Compare a1 and a2 |                                                                                             |
|             |                                                                                                                           | Condition 3       | State                                                                                       |
|             |                                                                                                                           | a1＞a2            | Set the servo to 90°, rotate to left（PWM set to 255）for 0.5s, go front（PWM set to 200）  |
|             |                                                                                                                           | a1＜a2            | Set the servo to 90°, rotate to right（PWM set to 255）for 0.5s, go front（PWM set to 200） |
|             | Condition 2                                                                                                               | State             |                                                                                             |
|             | a1≥50 Or a2≥50                                                                                                            | Random            | Set the servo to 90°, rotate to left（PWM set to 255）for 0.5s, go front（PWM set to 200）  |
|             |                                                                                                                           |                   | Set the servo to 90°, rotate to right（PWM set to 255）for 0.5s, go front（PWM set to 200） |
| Condition 1 | State                                                                                                                     |                   |                                                                                             |
| a≥20        | go front（PWM set to 200）                                                                                                |                   |                                                                                             |

Flow Chart:

![](media/792152adf6557228a0c1142b5eae14fc.png)

1.  Hook-up Diagram：

![](media/a6f411177d855e59b938933d74bf3a9c.jpeg)

Note: “-”、“+” and “S” pins of servo are respectively attached to G（GND）,
V（VCC）and D9 of expansion board. The VCC, Trig, Echo and Gnd of ultrasonic
sensor are linked with 5v(V), 5(S), Echo and Gnd(G) of expansion board.

1.  Test Code:

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                            | File Name                       |
|-----------|------------------------------------------------------------------|---------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_11_Ultrasonic Avoid Tank | lesson_11_Ultrasonic Avoid Tank |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter “Variables” to
move![](media/6f172be17940bbd0c635924742208b16.png)block
into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，go to“Math” to
drag![](media/6b5857774b87b36258be2b8a48752627.png)into![](media/6f172be17940bbd0c635924742208b16.png)，

(3) Copy![](media/c376f71ce273bc7c11f361d0dc8906a1.png)twice and respectively
change item into a, a1 and a2. Combine them with
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(4) Variable “a” is the distance of front obstacle detected by ultrasonic sensor
when servo is 90°; “a1” is the distance of left obstacle detected when servo is
160°; “a2” is the distance of right obstacle detected when servo is 20°

![](media/0364c4fcecf9249444e3f37e506f8725.png)

(5) Click “Robot”→ “TankCar”
→![](media/096fa3bbad70e6e9bb1a0ee8113ab6c0.png)，and move it into
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)block.

![](media/958745a726d6293794d751c4f9ecbae7.png)

(6) Go to “Variables” to get
block![](media/1105685589a09f4a70597cf4f8ab66bd.png).

(7) Click “Sensor” → “ControlOutput”
→![](media/0bc62f5cd42d9104a5262e9fc11766a5.png)

(8) Combine it with block![](media/1105685589a09f4a70597cf4f8ab66bd.png)

![](media/ca5e0ebf90a910aa678eaa6b94b36b2c.png)

1.  Click “Control” and drag it into
    block![](media/fad4c0aa5b58d92bf0269099face7f63.png)，click![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)
    and
    move![](media/4df0c9deaa8baeddd3a9047381c333bb.png)into![](media/ec67799ae6a24d7f0bc062e6efad352e.png)then
    we get block![](media/1ecffbd539806a583d03347c7aa5a77a.png).

2.  Go to “Logic” to get ![](media/ba4beab2225dda3e12dc06a6f193731f.png) and
    leave it behind if block.

3.  Enter “Variables” and drag
    out![](media/893b42def18b0f1cce9209461e02986f.png)block to left box of “=”,

4.  Go to “Math” to move ![](media/5bdcc1474163c0a6c831b8e0f187fe94.png)into
    right box of “=”, change 0 into 20, “=” into “＜”.

![](media/3dcf81170968f850a7e91aa04e60b14f.png)

1.  Click “Robot”→ “TankCar” →
    ![](media/cb1528a95530d53b8750f21329a7d2ae.png)and leave it into do
    block，click “Control” to get
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)into do block，delay in
    500ms.

2.  Enter “TankCar” to move
    block![](media/096fa3bbad70e6e9bb1a0ee8113ab6c0.png)into do block，change 0
    into 160.

![](media/0325b29e0655f50bb8e7e94312fc6433.png)

1.  Enter “Control” to move
    block![](media/779dc8492a45e4f79f3ea4666a95ba14.png)into do block，change i
    into j, copy block![](media/34a7f1b7cbc28eac8bf152018d95219e.png)once and
    combine it with block![](media/966769298b6085df547b94a62a6679c6.png)，change
    a into a1.

2.  Go to “Control” block to drag
    block![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)into “do” block and
    change 1000 into 300.
    Replicate![](media/096fa3bbad70e6e9bb1a0ee8113ab6c0.png)once and keep it
    into do block，change 0 into 20.

![](media/ff7b2ddf0c99d29bc79bc8135b314c51.png)

1.  Replicate code string![](media/c237f2b3c1ac4a6e15375159bc79215b.png)once and
    change j into k, a1 into a2. Then leave new code string into do block. As
    shown below:

![](media/fb2a9658894663d0d568aaf90e31e126.png)

1.  Go to “Control” to drag
    ![](media/fad4c0aa5b58d92bf0269099face7f63.png)block,
    click![](media/6b0bc0755ffe368004c9ad0f73a1b573.png)to get block
    ![](media/fe020c59423fba601b1b4a307cb05482.png)，and
    drag![](media/4df0c9deaa8baeddd3a9047381c333bb.png)into![](media/ec67799ae6a24d7f0bc062e6efad352e.png)
    to get block![](media/1ecffbd539806a583d03347c7aa5a77a.png).

2.  Enter “Logic” to move
    block![](media/f07776d5d3a4ebd83592e5a5f2effd85.png)behind the second if
    block，click the triangle button to set “or”，

3.  Then move out block![](media/6b2e4153feb0792dfea522a67a56d6e4.png)into left
    box of “and”.

4.  Click “Variables” to get
    block![](media/7a0dd556ca2e152149b8dbe4b449cfdf.png)and place it into left
    box of“=”，

5.  Go to “Math” to drag
    block![](media/5bdcc1474163c0a6c831b8e0f187fe94.png)into right box of
    “=”，and change 0 into 50，“=” into “＜”.
    ![](media/4044d3be9ea0d49d43fa82bd89e78cc2.png) is produced.

6.  Copy![](media/4044d3be9ea0d49d43fa82bd89e78cc2.png)once and set block
    ![](media/afbd5c276c5ccaf4d6cb77c3913ffa3b.png).

![](media/9d4e75a2f93cbbd97cba5359f193f588.png)

1.  Replicate ![](media/1ecffbd539806a583d03347c7aa5a77a.png)once and keep it
    into block![](media/e6466ec5a57de7644a61c5d42db773a8.png).

2.  Copy ![](media/6b2e4153feb0792dfea522a67a56d6e4.png)once and keep it behind
    if block,

3.  Go to“Variables”to move ![](media/7a0dd556ca2e152149b8dbe4b449cfdf.png) to
    left box of “=”，and
    block![](media/941aa2a4273ce42604287b3a5247f8a9.png)into right box of
    “=”，then change “=” into “＞”.

![](media/4e3a5904001cfc8d550b27340b1d5498.png)

1.  Click
    “Robot”→”TankCar”→![](media/096fa3bbad70e6e9bb1a0ee8113ab6c0.png)and![](media/3c64dcf3a040503129fe242758565f23.png).

2.  Leave them into block![](media/76f054d430e7207b48ec9e2069e6d016.png)，set to
    90° and 255.

3.  Go to “Control” to move out![](media/b36d41f8c3f679d192b1f7a4045b2f50.png)
    and delay in 500ms.

4.  Move out block![](media/816ba6f5829d8189e749a90f74d7b9a0.png) from“TankCar”
    and set to 200.

5.  Then edit the code as follows:

![](media/44a414f416ec007ac6cb818ce2dabc4c.png)

1.  Copy code string![](media/f0a4f8d4b654dcdea824ca1890c3234e.png)once and
    leave it into else block，then go to “TankCar”to drag out
    block![](media/2f00300df1faa6b7b953e635133977af.png)and
    replace![](media/79b2f3209ab4e3d3c39ce26e5fa7525b.png)block，and set to 255

![](media/6a7ac6a449cd6ec713cfb6ed59aa5833.png)

1.  Replicate code ![](media/3ad4fde735399590f3c699adae062375.png)once and leave
    it into![](media/874a5f6dd164e31d5678d51fe58f8d9a.png)block，change a into
    rantom2.

2.  Click “Variables”to move
    out![](media/a000fe5e8aa323fe9e8e98dfb9ea3972.png)and place it on the top of
    block![](media/7b4f23f87742f4cd1bcbd20727dd77ec.png)，

3.  Click “Math” to drag
    block![](media/fd8f4761e7bd8b87d89f205e9abd3321.png)into![](media/a000fe5e8aa323fe9e8e98dfb9ea3972.png)block，random
    number can be set freely, we could set it from 1 to 100

![](media/1d34ffd920180eaa271808a7cd3cf906.pn
![](media/503466fd8e74231ffc737641d5b0e55a.png)

1.  Replicate ![](media/1ecffbd539806a583d03347c7aa5a77a.png)again and place it
    behind else block.

2.  Go to “Logic” to move ![](media/6b2e4153feb0792dfea522a67a56d6e4.png)into if
    block，and click “Math” to drag
    block![](media/9ba63b55dc9f96624dbbdc0adb7a84d5.png)into left box of “=”,

3.  Enter “Variables” to drag![](media/3e55a85443b18b3da8932f50b9bab0b4.png)to
    left box of “+”block，change right 1 into 2，“+” into “％”，

4.  Click “Math” to get![](media/9e6c02c93d97172b874752ca21b8f36b.png)block and
    place it into right box of“=”. As shown below:

![](media/9adb167e368164ac351bd4a25a4081ae.png)

1.  Copy code string![](media/f0a4f8d4b654dcdea824ca1890c3234e.png)once and
    combine it with do block,

2.  Replicate code string![](media/061fd48c1d61b1ba33b7bbedd1946c71.png)once and
    keep it behind else block.

![](media/eb09b85ecccd229cec576d5cd86f20e3.png)

1.  Click “Robot”→ “TankCar”→![](media/816ba6f5829d8189e749a90f74d7b9a0.png)and
    leave it into else block，set to 200.

![](media/98fb37aeec201b0173bd5268c34fcb8c.png)

Complete Program：

![](media/f4d9f57b7c0f0e6342499c899db15485.png)![](media/6318f7ce05a577e9ab943f9768947ed8.png)![](media/bc4a3a8f9bc0fa8d3ee15717d652de62.png)

1.  Test Result

Upload code successfully, DIP switch is dialed to right end and power on, tank
robot goes forward and automatically avoids the obstacle

### Project 12: Ultrasonic Follow Tank

![](media/44c5d070ee7284b973c4d8805295b049.png)

1.  Description：

In project 11, we made an obstacle avoidance car. In fact, we only need to alter
a test code to transform an obstacle avoidance car into following car. In this
lesson, we will make an ultrasonic follow robot. The ultrasonic sensor detects
the distance between smart car and the obstacle to drive tank car to move.

**The specific logic of ultrasonic follow robot is as shown below:**

| **Detection** | **Measured distance of front obstacles** | **Distance (unit: cm)** |
|---------------|------------------------------------------|-------------------------|
| Settings      | Servo angle 90°                          |                         |
|               | 8X16 LED panel shows the icon “V”        |                         |
| If            | 20≤ distance ≤60                         |                         |
| Status        | Go front（set PWM to 200）               |                         |
| If            | 10\<distance＜20                         |                         |
|               | distance＞60                             |                         |
| Status        | stop                                     |                         |
| If            | distance ≤10                             |                         |
| Status        | Stop（set PWM to 200）                   |                         |

1.  Flow chart

![](media/14e2fbac5b2c153c74241fbaaf4338e9.png)

![](media/399c91cb82b7407f8f8ed473c270f16a.jpeg)

Note:

| 1.8x16 LED panel |   | V5 Sensor Shield |
|------------------|---|------------------|
| GND              | → | -（GND）         |
| VCC              | → | +（VCC）         |
| SDA              | → | SDA              |
| SCL              | → | SCL              |

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                             | File Name                        |
|-----------|-------------------------------------------------------------------|----------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_12_Ultrasonic follow tank | lesson_12_Ultrasonic follow tank |

You could edit code step by step as follows:

(1) Click “Control” to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter
“Robot”→”TankCar”→![](media/d8ff7996eb15d4598682c63c5be57c50.png)and![](media/21052840957d4088b0e743b545157a18.png)

(3) Leave them into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，click “↑” to
set “clear”.

![](media/beb0e87b24cdd945215320fee867c3a5.png)

1.  Replicate![](media/2a066e6c1ff40c35835f7c1108e684d0.png)once and tap
    “clear”to select “V”.

(5) Move out![](media/14ed47500438791efad87161647b0480.png)into
block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，change 0 into 90.

![](media/c95f23d9d81dd44308927d5695f4ec36.png)

(6) Tap “Variables” to move
block![](media/6f172be17940bbd0c635924742208b16.png)into
![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，

(7) Go to “Math” to move out![](media/0171c9b9d68df2b854ebded805ca3371.png)block
and combine it with![](media/6f172be17940bbd0c635924742208b16.png)，change item
into distance.

![](media/bfde696997d5474154a969f14e1d0e54.png)

(8) Go to “Variables” to get
block![](media/cb8c9e53bd811de9335a034de20496a4.png)，and tap “Robot”→ “TankCar”
→![](media/26631839038da0b890c8ec9f135ce935.png);

(9) Combine it with block![](media/cb8c9e53bd811de9335a034de20496a4.png).

![](media/3275aa5a24b67cb52c84bda358f5bfee.png)

(10) Click “Control” to move out
block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，tap![](media/86a19fdfc831358c605f99cf73254079.png)，block![](media/d0582e0ce7715347855beb46f30947cd.png)appears,
drag ![](media/8ea2bafa58f42edf0c11e9e2a3f5bc41.png)into
block![](media/23d14c6bea2dbc6dce97e3b22ee8adcb.png)for 2 times and move
![](media/9bc8c8a6de8c36f6f62e3efb6da47926.png) into if block, then the
block![](media/f1eea600de88c95aa2ef0ae8344c2550.png)is produced.

1.  Go to “Logic” to get ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png) and
    ![](media/ba4beab2225dda3e12dc06a6f193731f.png).

2.  Place ![](media/f1a063334f9c7f82ff4903fa84b9eebc.png)into if block，and
    leave ![](media/ba4beab2225dda3e12dc06a6f193731f.png) in the left box of
    block![](media/f1a063334f9c7f82ff4903fa84b9eebc.png).

3.  Enter “Variables” to get
    block![](media/63bd47f41b8c51c393507f0dee65fe46.png) and keep it at left box
    of block “=”.

4.  Go to “Math” to move
    block![](media/0171c9b9d68df2b854ebded805ca3371.png)into right box of block
    “=”，and change 0 into 2, “=” into “≥”.
    ![](media/40afee46e1b9fb975eb699334c8e0c43.png)block is generated.

5.  Replicate block![](media/40afee46e1b9fb975eb699334c8e0c43.png)once and set
    to ![](media/0a769675561a534bd6d0bd0c8455bd03.png)block.

![](media/74f4b5002f6a61da05b80a7615907285.png)

1.  Tap “Robot”→”TankCar” →![](media/ec93f82808c71550d25888c70c7a50a9.png)

2.  Leave it into first do block，set to 200.

![](media/0831b7b8bdd76cff800344cc2085e215.png)

1.  Duplicate![](media/39968d98ef56dc2ac6266f8a915c2ed6.png)and
    ![](media/68bd6a7af0ba483398f44b2e14ac8cfb.png)once

and separately leave behind the first else if block and third do block.

1.  Set to ![](media/662c6f8db8b3e6de8fab3fdaeec90103.png)and separately place
    it and ![](media/68bd6a7af0ba483398f44b2e14ac8cfb.png)behind the first else
    if block and third do block.

2.  Click “Robot”→ “TankCar” →![](media/20762bf0d6454fd6a53879e9ea56a2e8.png)and
    keep it under the second do block.

3.  Copy block![](media/19f8c9efba5c14917055875998276f7d.png)again and keep it
    into the second else if block，change “\>” into “\<”,

![](media/82cc16e98302cee22aa034b936c056ea.png)

1.  Replicate ![](media/20762bf0d6454fd6a53879e9ea56a2e8.png)block and keep it
    into else block.

![](media/d8a22a270264d03c577c1ede14c78eef.png)

Complete Program：

![](media/7e1277c4460c8990c3495b37d9eaf7aa.png)

(4) Test Result：

Upload code successfully, DIP switch is dialed to right end, the servo rotates
to 90°, “V” is shown on 8X16 LED panel and smart car moves as the obstacle
moves.

### Project 13: IR Remote Robot Tank

![](media/1ed859f1647835ca2e2464375faac00e.png)

1.  Description:

IR remote control is one of most ubiquitous control, applied in TV, electric fan
and some household appliances. In this project, we will make an IR remote smart
car. And we’ve known every key value on IR remote control. Thus, we could
control smart car via and display the patterns on dot matrix via corresponding
key value

**The specific logic of infrared remote control robot is shown below:**

| **Initial setup**                               | Servo angle 90°                         |                                     |
|-------------------------------------------------|-----------------------------------------|-------------------------------------|
|                                                 | 8X16 LED matrix panel shows an icon “V” |                                     |
| **Remote control**                              | **Key value**                           | **Key state**                       |
| ![](media/b11dc5ffa6cccebc6088e5d557d76daf.png) | FF629D                                  | Go front（PWM set to 200）          |
|                                                 |                                         | 8X16 LED panel shows front icon     |
| ![](media/ae8110034aacb083151cfd882ee599ba.png) | FFA857                                  | Go back（PWM set to 200）           |
|                                                 |                                         | 8X16 LED panel shows back icon      |
| ![](media/bce9cba2c6d2465fbcce570ad4210eba.png) | FF22DD                                  | Turn left                           |
|                                                 |                                         | 8X16 LED panel shows leftward icon  |
| ![](media/ad907a618af86f30d52986bbbd57ba76.png) | FFC23D                                  | Turn right                          |
|                                                 |                                         | 8X16 LED panel shows rightward icon |
| ![](media/9716a4ed61a4064d2f47a7b73eccaf87.png) | FF02FD                                  | Stop                                |
|                                                 |                                         | 8X16 LED panel shows “STOP”         |
| ![](media/92499f5bf0b8a1e6ec85526b5293fbbf.png) | FF30CF                                  | Rotate to left（PWM set to 200）    |
|                                                 |                                         | 8X16 LED panel shows leftward icon  |
| ![](media/dcada1dd0e8a75bc9f041e039bb15755.png) | FF7A85                                  | Rotate to right（PWM set to 200）   |
|                                                 |                                         | 8X16 LED panel shows rightward icon |

1.  Flow Chart

![J@C0OF\~CE65)4_([I\$([C1A](media/037368afbd6fa6196334b988030e4249.png)

1.  Connection Diagram：

![](media/7c5036b157052d37b435023c802b804d.jpeg)

Attention：GND,VCC, SDA, SCL of 8x16 LED panel are respectively linked with
\-（GND), +（VCC), SDA ,SCL. And “-”、“+” and S of IR receiver module are
attached to G（GND), V（VCC) and A0 on sensor shield. On the condition of
insufficient digital ports, the analog ports can be treat as digital ports. A0
equals to digital 14, A1 is like digital 15.

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                           | File Name                      |
|-----------|-----------------------------------------------------------------|--------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_13_IR Remote Robot Tank | lesson_13_IR Remote Robot Tank |

You could edit code step by step as follows:

1.  Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2.  Enter“Serial Port”to move
    block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Go to “Sensor” →
    “ControlOutput”→![](media/d8ff7996eb15d4598682c63c5be57c50.png)and![](media/21052840957d4088b0e743b545157a18.png)

2.  Keep them into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，click “↑” to
    select “clear”.

![](media/497f69878c77f0e3bf2d3ca7fdc45470.png)

1.  Copy![](media/2a066e6c1ff40c35835f7c1108e684d0.png)once and and tap “clear”
    to select “V”.

2.  Move out![](media/14ed47500438791efad87161647b0480.png)into
    block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，change 0 into 90.

![](media/95536365d2b982e62ad25ff5340bbaa1.png)

1.  Then move out block![](media/ae1254cd96f933aebe2f35ce95abba82.png)，and drag
    block![](media/6b5c3de215ccbc2b3da6d9b8948ba5e1.png) from “serial port” .

2.  Combine ![](media/6b5c3de215ccbc2b3da6d9b8948ba5e1.png)block
    with![](media/ae1254cd96f933aebe2f35ce95abba82.png)block，

3.  Tap “Variables” to move
    block![](media/b358f4a37c9c416e6b197b2a9a7e3a30.png)into![](media/6b5c3de215ccbc2b3da6d9b8948ba5e1.png)block.

![](media/17d1d9a923edc0def8fc12044d3f0167.png)

1.  Go to “Control” to move out
    block![](media/2ca74f70e4001ad5a00d135a596025ab.png)，

2.  Click “Logic” to drag ![](media/ba4beab2225dda3e12dc06a6f193731f.png)block
    into if block.

3.  Place![](media/b358f4a37c9c416e6b197b2a9a7e3a30.png)into left box of “=”

4.  Drag ![](media/0171c9b9d68df2b854ebded805ca3371.png) from “Math”block and
    keep it into right box of “=”，change 0 into 0xFF629D.

5.  Enter “Sensor” →
    “ControlOutput”→![](media/5fbcd91ca66366ac82d07093293614cf.png)and![](media/21052840957d4088b0e743b545157a18.png)，then
    set to 200.

![](media/cd62821e1a8d5b03024cfd1ad7917139.png)

(15）Replicate code string![](media/a17d11a3467baa891593fe3025aeaacc.png)for 4
times，respectively set to 0xFFA857, 0xFF22DD, 0xFFC23D and 0xFF02FD；

(16) Click “TankCar” to move out
block![](media/cff56ed6a78f0fd834309c1164ad0f7b.png),
![](media/6f1b377df031696c9ddcffbc3e0d0c1b.png),
![](media/0ca3107aaaa37b909e80842b1677d986.png)and![](media/830a3b69c91cb22cbac327421212de7e.png)to
replace block![](media/93e51e693cffc587eb81c254265d39df.png)，and set to 200；

(17) And separately set to ↓, ←, → and STOP.

![](media/9ca29aa6f918a71c203f6af8cf0a1f41.png)

(18) Duplicate code string ![](media/a17d11a3467baa891593fe3025aeaacc.png)for
two times，separately set to 0xFF30CF and 0xFF7A85；

(19) Then find out
block![](media/75af050074ee7f0cca10b3457f09e887.png)and![](media/08dbcf4ddc06565fde0d7b2466eb0b28.png)to
to replace block![](media/ada286ec9ac84bff7befc08918e1d8f4.png)，and set to
200；

(20) Respectively set to “←” and “→”.

![](media/cfb70e9387389d9656a9c38ed9bc8b8a.png)

Complete Program：

![](media/f7fa6dba9f814316dd40f5693c713825.png) ![](media/bebfe291b03ca7c5992a5aaa8d625ad1.png)

(5) Test Result：

Upload code successfully and power on, the smart robot can be controlled by IR
remote, at same time, the corresponding pattern is shown on 8X16 LED panel.

### Project 14: Bluetooth Control Robot

![](media/32068221ca46f6fdf16f38fccbd2f2ec.png)

1.  Description

We’ve learned the basic knowledge of Bluetooth, in this lesson, we will make a
Bluetooth remote smart car. In the experiment, we default the HM-10 Bluetooth
module as a Slave and the cellphone as a Host.

keyes BT car is an APP rolled out by keyestudio team. You could control the
robot car by it readily.

There is a guide to how to download and install APP in the document as for your
reference. The interface is shown below.

![](media/753263f3633049683f3dd29c4253f63d.png)

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| Type File | Route                                                           | File Name                           |
|-----------|-----------------------------------------------------------------|-------------------------------------|
| MIX File  | ../tutorialforMixly/MixlyCode/lesson_14_Bluetooth Control Robot | lesson_14.1_Bluetooth Control Robot |

You could edit code step by step as follows:

(1) Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter“Serial Port”to move
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

1.  Click “Sensor” → “ControlOutput”
    →![](media/a3dd731653f4e6629efdd60ce4d131ff.png).

2.  Go to “Serial Port” to find
    block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png) and place it into
    block![](media/a3dd731653f4e6629efdd60ce4d131ff.png)；then enter “Variables”
    block to drag out ![](media/9fc46a764fa2d5eca94f1b0d2e70f79d.png) and
    combine it with block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png).

![](media/ea169779482dc23cfa0664a12d47045b.png)

Complete Program：

![](media/3b4de73114650f9f42390e19dfb116e9.png)

Pull off the Bluetooth module, upload test code, reconnect Bluetooth module,
open serial monitor and set baud rate to 9600. Point at Bluetooth module and
press keys on APP, the corresponding character is shown below.

![](media/ce9d3b7ef40230c2e98e30ad3c72959c.png)

The detected character and corresponding function:

![](media/9d9fab33002148e1dab4234e65ed7cd3.png)

There is a flow chart of Bluetooth control robot car as for your reference. It
will assists you to have a better understanding about smart car.

![](media/c2f0bcccdab900b79a73fb0b516ad927.png)

(3) Connection Diagram

![](media/9d12898b15e8e9f0bc1e0bcdfcf89f2a.jpeg)

Wiring Attention：

| 8x16 LED panel                                                                         |   | Expansion Board |
|----------------------------------------------------------------------------------------|---|-----------------|
| GND                                                                                    | → | -（GND）        |
| VCC                                                                                    | → | +（VCC）        |
| SDA                                                                                    | → | SDA             |
| SCL                                                                                    | → | SCL             |
| Insert Bluetooth module vertically, you don’t need to attach to its STATE and BRK pins |   |                 |

(4) Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                              | File Name                           |
|-----------|--------------------------------------------------------------------|-------------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_14_Bluetooth Control Robot | lesson_14.2_Bluetooth Control Robot |

You could edit code step by step as follows:

(1) Click“Control”to get block![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

(2) Enter“Serial Port”to move
block![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)into![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)+
![](media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](media/ab706faf61854a4bb27663a5cac4325c.png)

(3) Click “Sensor” →
“ControlOutput”→![](media/d8ff7996eb15d4598682c63c5be57c50.png)and![](media/21052840957d4088b0e743b545157a18.png).

(4) Combine them with![](media/3b9464e5c3dd4437bc5486d58cc9e039.png)，click
triangle button to set “clear”.

![](media/497f69878c77f0e3bf2d3ca7fdc45470.png)

1.  Replicate code![](media/2a066e6c1ff40c35835f7c1108e684d0.png)once and
    click“clear”to select “V”.

![](media/615a2b65fdc23182e58521df7ba77e85.png)

1.  Click“Sensor” → “ControlOutput”
    →![](media/a3dd731653f4e6629efdd60ce4d131ff.png).

(7) Enter“Serial Port” to get
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png)into
block![](media/a3dd731653f4e6629efdd60ce4d131ff.png)；Click “Variables”to move
out block![](media/9fc46a764fa2d5eca94f1b0d2e70f79d.png)into
block![](media/e833ec02bd6816cef1f10cb7ed2709e4.png).

![](media/ea169779482dc23cfa0664a12d47045b.png)

(8) Click “Control” to move out
block![](media/705027c6884755f58076a4aa6a4b4c0a.png)，tap![](media/86a19fdfc831358c605f99cf73254079.png)，![](media/46aa61c88286ca9bc1a743a1a5b0e610.png)appears,
drag ![](media/fe01b3e71a9cbf9b66658d604751bbc6.png)into
block![](media/a6b2092c13f6f0abbb7110938d98fba5.png)for 5 times，the
block![](media/f67c99f4f1a290e897f01b28ee2f6973.png)is produced

(9) Click “Variables” to drag out
![](media/f96213ca92ee0843d9d1c42632bb1502.png)and integrate it with “switch”
block

![](media/7d1e7b793ca6324e8e3cf7a6383caf34.png)

(10) Click “Text” to move out
block![](media/ebfc14e6725fc11a7f791b043aa53580.png)and keep it below the first
case，alter a into F；go to “Robot”→
“TankCar”→![](media/c3f51a4ef0575e3087f1f3ee06f65345.png)and![](media/7369228f712b87739fdcc9657cc31d5c.png);

(11) Move them below the first case block，then set to 200 PWM

![](media/06bc7abe825ff0ccc86171d95334387e.png)

(12) Click “Text” to move out
block![](media/ebfc14e6725fc11a7f791b043aa53580.png)and leave it under the
second case，change a into B；enter
“Robot”→“TankCar”→![](media/1def8a5eb7fa92449345835e0e2bb97a.png)and![](media/7369228f712b87739fdcc9657cc31d5c.png).

(13) Leave them under the second “case”, then set to 200，click triangle button
to select “↓”.

![](media/4162d15d8d554a19ef185d28ca8f478b.png)

(14) In same way, we get the following code string.

![](media/e2e1d72f8ac1a10886b57c87873a3daf.png)

1.  Then we move out
    block![](media/b5cf57c753d115aa48cb85e03e82019f.png)and![](media/7369228f712b87739fdcc9657cc31d5c.png),
    and keep them below the fifth case, click triangle button to choose “STOP”.

![](media/0d3fb3d5acb30ce726faa86e82c7a2e7.png)

Complete Program：

![](media/6549385aced7f3f30eda19dfa1e8e388.png) ![](media/5a7cbc875dfce6b8902188a4569aa164.png)



**Note:Remove the Bluetooth module before uploading test code, otherwise, you will fail to upload test code. Reconnect Bluetooth module after uploading test code**

1.  Test Result：

Upload code successfully, DIP switch is dialed to right end and power on. After
connecting Bluetooth, we could drive smart car to move by Bluetooth App.

Press![](media/812184b6c87ccf6f0d297ada3eb7329f.png)，tank robot goes
forward；click![](media/51b9de7f9319cd7f13af7e892f55e330.png)，smart car goes
back；press![](media/4215dcc177dc5e58743eb6897e0c4c62.png)button，tank robot
turns left；click![](media/789b989a7a110ce3c08ba82a7a8a0fed.png)，robot turns
right；hold![](media/96f8d8acf6ae02320f69583f9a146e96.png)，it stops.
Click![](media/89977c8a260abc7a1e43348047d55ffb.png)to enable gravitational
control，tap![](media/89977c8a260abc7a1e43348047d55ffb.png)again, end
gravitational control. At same time,8X16 LED panel on robot car displays the
corresponding pattern.

### Project 15: Multi-purpose Robot Car

![](media/33587ca7fd70c974ea145c25349fd98d.png)

1.  **Description**

In previous projects, the tank car only performs single function, however, in
this lesson, we integrate all of function to control smart car via Bluetooth
control.

Here is a simple flow chart of multi-purpose robot car as for your reference.

![](media/785d1f5c4acf6b5077d947d7681538c6.png)

1.  **Connection Diagram**

![](media/5740239ab7c8146def446e410d24de58.jpeg)

Attention：Confirm that every component is connected.

![](media/8cab35897e477b1b2e71aa10e9698089.png)
![](media/37b7aa67c27d1e000b87b6c2aed5e2c5.png)![](media/bfd684299b4a8a403ae451914f81d7d5.png)

| 8x16 LED panel |   | Expansion Board |
|----------------|---|-----------------|
| GND            | → | -（GND）        |
| VCC            | → | +（VCC）        |
| SDA            | → | SDA             |
| SCL            | → | SCL             |

| Ultrasonic Module |   |        |
|-------------------|---|--------|
| VCC               | → | 5v(V)  |
| Trig              | → | 5(S)   |
| Echo              | → | 4(S)   |
| Gnd               | → | Gnd(G) |

![](media/048a7f784d6c03ce160caf50e69dc93d.png)
![](media/b5f04e7d20a3b1b30c95b0ad8dc86cf9.png)
![](media/b17a1eee56ae54b7866c5d1274e96391.png)

| Servo Motor |   |        |
|-------------|---|--------|
| Brown Wire  | → | Gnd(G) |
| Red Wire    | → | 5v(V)  |
| Orange Wire | → | 9      |

![](media/0779463718bc8a6d204153fc0b84e177.png)
![](media/edd566ce9f1d04691abde3e7d1a6c6ed.png)

| Bluetooth Module                        |   |          |
|-----------------------------------------|---|----------|
| RXD                                     | → | TX       |
| TXD                                     | → | RX       |
| GND                                     | → | -（GND） |
| VCC                                     |   | +（VCC） |
| No need to attach to STATE and BRK pins |   |          |

![](media/a0bdc81ffdf0f32f8324ea09cde451b6.png)
![](media/711d278f99ba2b2548164f869a4f2043.png)![](media/6f7e3acb5570d1a772a3457064df7ea4.png)

| IR Receiver Module |   | Sensor Shield |
|--------------------|---|---------------|
| -                  | → | G（GND）      |
| +                  | → | V（VCC）      |
| S                  | → | A0            |

![](media/6d3c419a27e49dee3b42df7a119c600b.png)![](media/afc170cdf94acffa6bd0541443c026e2.png)![](media/38da4cedbda7b4ed83d9ca8dde59791c.png)

1.  

| Left photo resistor  |   | Sensor Shield |
|----------------------|---|---------------|
| -                    | → | G（GND）      |
| +                    | → | V（VCC）      |
| S                    | → | A1            |
|                      |   |               |
| Right Photo resistor |   | Sensor Shield |
| -                    | → | G（GND）      |
| +                    | → | V（VCC）      |
| S                    | → | A2            |

![](media/c84521d127205ce7245e8316f9dc0ede.png)![](media/4ebe82b3056c898e77617438aa7213d5.png)![](media/39074a9cb6ffccfe1c1401a871f0b0a3.png)

1.  Test Code：

The program will be generated if you find the following file and drag it into
Mixly software.

| File Type | Route                                                              | File Name                         |
|-----------|--------------------------------------------------------------------|-----------------------------------|
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson_15_Multi-purpose Robot Car | lesson_15_Multi-purpose Robot Car |

Complete Program：

![](media/5ceec5a3ff13630beec31dba74a3ba90.png)

![](media/ee7144a983145d164018794ca8b601e7.png)

(4) Test Result：

**Note:Remove the Bluetooth module before uploading test code, otherwise, you
will fail to upload test code. Reconnect Bluetooth module after uploading test
code**

**Upload test code successfully, insert Bluetooth module, power on, and connect
to Bluetooth. The tank robot can show distinct function by App.**

**Alright, the whole projects are finished. Please feel free to contact us if
you confront some problems.**

**8. Resource:**

Wiki page: <https://wiki.keyestudio.com/Main_Page>

Official website: <https://keyestudio.com/>

Assembly Video Link: http://video.keyestudio.com/ks0428/
